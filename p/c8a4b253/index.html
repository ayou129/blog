<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#42b983"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/blog/public/index.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/public/index.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/public/index.ico">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#42b983">

<link rel="stylesheet" href="/blog/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"ayou129.github.io","root":"/blog/","images":"/blog/images","scheme":"Muse","darkmode":false,"version":"8.14.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":"flat","style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/blog/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/blog/js/config.js"></script>

    <meta name="description" content="暂无描述">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity">
<meta property="og:url" content="https://ayou129.github.io/blog/p/c8a4b253/index.html">
<meta property="og:site_name" content="阿尤">
<meta property="og:description" content="暂无描述">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/createUser01.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/InputManager01.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/PlayerAttack.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/floor.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/%E6%96%B9%E5%9D%97xN01.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/%E6%96%B9%E5%9D%97xN02.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Directional_light_intensity.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/%E5%B7%A6%E6%89%8B%E5%9D%90%E6%A0%87%E7%B3%BB%E5%92%8C%E5%8F%B3%E6%89%8B%E5%9D%90%E6%A0%87%E7%B3%BB.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/%E5%B7%A6%E6%89%8B%E5%9D%90%E6%A0%87%E7%B3%BB%E5%92%8C%E5%8F%B3%E6%89%8B%E5%9D%90%E6%A0%87%E7%B3%BB%E7%9A%84%E6%97%8B%E8%BD%AC%E6%96%B9%E5%90%91.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E4%BD%BF%E7%94%A8%E5%B7%A6%E6%89%8B%E5%9D%90%E6%A0%87%E7%B3%BB.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E6%83%AF%E6%80%A7%E5%9D%90%E6%A0%87%E7%B3%BB.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%B1%8F%E5%B9%95%E5%9D%90%E6%A0%87%E7%B3%BB.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E8%A7%86%E5%8F%A3%E5%9D%90%E6%A0%87%E7%B3%BB.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%90%91%E9%87%8F%E5%8A%A0%E6%B3%95.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%90%91%E9%87%8F%E5%87%8F%E6%B3%95.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%90%91%E9%87%8F%E6%95%B0%E4%B9%98.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%90%91%E9%87%8F%E7%82%B9%E4%B9%98.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%90%91%E9%87%8F%E5%8F%89%E4%B9%98.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E6%AC%A7%E6%8B%89%E8%A7%92x.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%9B%9B%E5%85%83%E6%95%B0Quaternion.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%9B%9B%E5%85%83%E6%95%B0%E4%B9%98%E6%B3%95%E8%AE%A1%E7%AE%97.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%9B%9B%E5%A4%A7%E9%9D%A2%E6%9D%BF.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%B8%B8%E7%94%A8%E5%B7%A5%E4%BD%9C%E8%A7%86%E5%9B%BEScene%E8%A7%86%E5%9B%BE.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%B8%B8%E7%94%A8%E5%B7%A5%E4%BD%9C%E8%A7%86%E5%9B%BEScene%E8%A7%86%E5%9B%BE%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E5%B8%B8%E7%94%A8%E5%B7%A5%E4%BD%9C%E8%A7%86%E5%9B%BEScene%E8%A7%86%E5%9B%BE%E5%9C%BA%E6%99%AF%E8%A7%86%E5%9B%BE%E6%8E%A7%E5%88%B6%E6%A0%8F.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/UnityGame%E8%AF%95%E5%9B%BE%E9%A1%B6%E9%83%A8.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/UnityGame%E8%A7%86%E5%9B%BE%E9%A1%B6%E9%83%A8%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D1.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/UnityGame%E8%A7%86%E5%9B%BE%E9%A1%B6%E9%83%A8%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D2.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/UnityInspector%E8%A7%86%E5%9B%BE%E9%83%A8%E5%88%86%E7%BB%84%E4%BB%B6%E5%92%8C%E5%B1%9E%E6%80%A7.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/UnityConsole%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E8%84%9A%E6%9C%AC%E7%BC%96%E8%AF%91%E9%A1%BA%E5%BA%8F-%E9%BB%98%E8%AE%A4%E9%A1%BA%E5%BA%8F.jpeg">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Unity%E8%84%9A%E6%9C%AC%E7%BC%96%E8%AF%91%E9%A1%BA%E5%BA%8F-%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AE.jpeg">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/OmniShart_requires.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/RollOfTheDice.png">
<meta property="og:image" content="https://ayou129.github.io/blog/p/c8a4b253/Randomancer.gif">
<meta property="article:published_time" content="2022-12-23T19:38:15.000Z">
<meta property="article:modified_time" content="2022-10-21T19:59:15.000Z">
<meta property="article:author" content="阿尤">
<meta property="article:tag" content="游戏开发">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ayou129.github.io/blog/p/c8a4b253/createUser01.png">


<link rel="canonical" href="https://ayou129.github.io/blog/p/c8a4b253/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://ayou129.github.io/blog/p/c8a4b253/","path":"p/c8a4b253/","title":"Unity"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Unity | 阿尤</title>
  






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>

  <noscript>
    <link rel="stylesheet" href="/blog/css/noscript.css">
  </noscript>
<link rel="alternate" href="/blog/atom.xml" title="阿尤" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">
      <img class="custom-logo-image" src="/blog/public/%E9%98%BF%E5%B0%A4%E5%8A%A8%E6%BC%AB%E5%A4%B4.jpeg" alt="阿尤">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">阿尤</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">44</span></a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">2</span></a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">72</span></a></li><li class="menu-item menu-item-sitemap"><a href="/blog/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="nav-number">1.</span> <span class="nav-text">基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E8%AE%BE%E7%BD%AE"><span class="nav-number">1.1.</span> <span class="nav-text">基础设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Unity-Scene-%E7%BC%A9%E6%94%BE"><span class="nav-number">1.2.</span> <span class="nav-text">Unity Scene 缩放</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%87%BA%E4%BF%A1%E6%81%AF%E5%88%B0%E6%8E%A7%E5%88%B6%E5%8F%B0%E4%B8%8A"><span class="nav-number">1.3.</span> <span class="nav-text">输出信息到控制台上</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Inspector"><span class="nav-number">2.</span> <span class="nav-text">Inspector</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6"><span class="nav-number">2.1.</span> <span class="nav-text">组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Sprite-Renderer-%E5%9B%BE%E7%89%87%E7%B2%BE%E7%81%B5%E6%B8%B2%E6%9F%93"><span class="nav-number">2.1.1.</span> <span class="nav-text">Sprite Renderer 图片精灵渲染</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Rigidbody-2D-%E5%A2%9E%E5%8A%A0%E9%87%8D%E5%8A%9B"><span class="nav-number">2.1.2.</span> <span class="nav-text">Rigidbody 2D 增加重力</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CircleCollider-2D-%E5%9C%86%E5%BD%A2%E7%A2%B0%E6%92%9E%E5%99%A8%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%AE%BE%E7%BD%AE%E5%81%8F%E7%A7%BB%E9%87%8F"><span class="nav-number">2.1.3.</span> <span class="nav-text">CircleCollider 2D 圆形碰撞器，可以设置偏移量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Script-%E8%A1%8C%E4%B8%BA%E5%89%A7%E6%9C%AC"><span class="nav-number">2.1.4.</span> <span class="nav-text">Script 行为剧本</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E6%B8%B8%E6%88%8F%E7%B3%BB%E7%BB%9F"><span class="nav-number">2.2.</span> <span class="nav-text">安全游戏系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%A7%E5%90%8C%E6%AD%A5"><span class="nav-number">2.3.</span> <span class="nav-text">帧同步</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unity-%E5%A4%9A%E4%BA%BA%E6%B8%B8%E6%88%8F%E6%A1%86%E6%9E%B6"><span class="nav-number">3.</span> <span class="nav-text">Unity 多人游戏框架</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%A7%E5%90%8C%E6%AD%A5-1"><span class="nav-number">4.</span> <span class="nav-text">帧同步</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE"><span class="nav-number">5.</span> <span class="nav-text">项目</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80-%E5%95%86%E4%B8%9A%E7%BA%A7%E6%89%8B%E6%B8%B8"><span class="nav-number">5.1.</span> <span class="nav-text">王者荣耀 商业级手游</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%98%E6%96%97%E5%9C%B0%E5%BD%A2%E7%9A%84%E5%88%9B%E5%BB%BA-%E5%9C%B0%E5%BD%A2%E3%80%81%E6%A4%8D%E7%89%A9%E3%80%81%E7%AE%AD%E5%A1%94"><span class="nav-number">5.2.</span> <span class="nav-text">战斗地形的创建 地形、植物、箭塔</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%A9%E5%AE%B6%E6%8E%A7%E5%88%B6"><span class="nav-number">5.3.</span> <span class="nav-text">玩家控制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E6%B8%B8"><span class="nav-number">5.3.1.</span> <span class="nav-text">手游</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AB%AF%E6%B8%B8"><span class="nav-number">5.3.2.</span> <span class="nav-text">端游</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%91%84%E5%83%8F%E6%9C%BA%E7%8E%A9%E5%AE%B6%E8%B7%9F%E9%9A%8F"><span class="nav-number">5.3.3.</span> <span class="nav-text">摄像机玩家跟随</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%94%BB%E5%87%BB%E7%89%B9%E6%95%88"><span class="nav-number">5.3.4.</span> <span class="nav-text">攻击特效</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%B8%E6%88%8F%E6%89%93%E5%8C%85-APK"><span class="nav-number">5.4.</span> <span class="nav-text">游戏打包 APK</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ISO-x2F-OSI-%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="nav-number">6.</span> <span class="nav-text">ISO&#x2F;OSI 参考模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#temp"><span class="nav-number">6.1.</span> <span class="nav-text">temp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%B8%E6%88%8F%E6%A8%A1%E5%BC%8F%E6%9E%84%E5%BB%BA"><span class="nav-number">6.2.</span> <span class="nav-text">游戏模式构建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%B0%E5%BD%A2%E5%88%9B%E5%BB%BA"><span class="nav-number">6.3.</span> <span class="nav-text">地形创建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#NGUI%E6%8F%92%E4%BB%B6"><span class="nav-number">6.3.1.</span> <span class="nav-text">NGUI插件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%95%8C%E9%9D%A2"><span class="nav-number">6.3.2.</span> <span class="nav-text">界面</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83"><span class="nav-number">6.4.</span> <span class="nav-text">核心</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%99%BB%E9%99%86"><span class="nav-number">6.4.1.</span> <span class="nav-text">登陆</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%8E%A9%E5%AE%B6%E5%8C%B9%E9%85%8D"><span class="nav-number">6.4.2.</span> <span class="nav-text">玩家匹配</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%80%E8%83%BD%E6%A8%A1%E5%9D%97"><span class="nav-number">6.4.3.</span> <span class="nav-text">技能模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%88%98%E9%98%9F%E5%8A%9F%E8%83%BD"><span class="nav-number">6.4.4.</span> <span class="nav-text">战队功能</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AI"><span class="nav-number">6.5.</span> <span class="nav-text">AI</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E5%8C%96"><span class="nav-number">7.</span> <span class="nav-text">优化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">8.</span> <span class="nav-text">总结</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="nav-number">8.1.</span> <span class="nav-text">游戏开发流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%90%AD%E5%BB%BA%E7%A4%BA%E4%BE%8B%E8%88%9E%E5%8F%B0"><span class="nav-number">8.2.</span> <span class="nav-text">搭建示例舞台</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#FPS"><span class="nav-number">8.2.1.</span> <span class="nav-text">FPS</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-1"><span class="nav-number">9.</span> <span class="nav-text">基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3D%E6%95%B0%E5%AD%A6"><span class="nav-number">9.1.</span> <span class="nav-text">3D数学</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9D%90%E6%A0%87%E7%B3%BB"><span class="nav-number">9.1.1.</span> <span class="nav-text">坐标系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E7%B3%BB"><span class="nav-number">9.1.2.</span> <span class="nav-text">世界坐标系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E5%9D%90%E6%A0%87%E7%B3%BB"><span class="nav-number">9.1.3.</span> <span class="nav-text">本地坐标系</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E5%9D%90%E6%A0%87%E7%B3%BB-1"><span class="nav-number">9.1.3.1.</span> <span class="nav-text">本地坐标系</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%88%B6%E5%9D%90%E6%A0%87%E7%B3%BB"><span class="nav-number">9.1.3.2.</span> <span class="nav-text">父坐标系</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%83%AF%E6%80%A7%E5%9D%90%E6%A0%87%E7%B3%BB"><span class="nav-number">9.1.3.3.</span> <span class="nav-text">惯性坐标系</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%8F%E5%B9%95%E5%9D%90%E6%A0%87%E7%B3%BB"><span class="nav-number">9.1.4.</span> <span class="nav-text">屏幕坐标系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%86%E5%8F%A3%E5%9D%90%E6%A0%87%E7%B3%BB"><span class="nav-number">9.1.5.</span> <span class="nav-text">视口坐标系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9D%90%E6%A0%87%E7%B3%BB%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="nav-number">9.1.6.</span> <span class="nav-text">坐标系的转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%91%E9%87%8F"><span class="nav-number">9.1.7.</span> <span class="nav-text">向量</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%8B%E7%BB%8D"><span class="nav-number">9.1.7.1.</span> <span class="nav-text">介绍</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%90%91%E9%87%8F%E8%BF%90%E7%AE%97"><span class="nav-number">9.1.7.2.</span> <span class="nav-text">向量运算</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Vector3"><span class="nav-number">9.1.7.3.</span> <span class="nav-text">Vector3</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AC%A7%E6%8B%89%E8%A7%92%E5%92%8C%E5%9B%9B%E5%85%83%E6%95%B0"><span class="nav-number">9.1.8.</span> <span class="nav-text">欧拉角和四元数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%AC%A7%E6%8B%89%E8%A7%92"><span class="nav-number">9.1.8.1.</span> <span class="nav-text">欧拉角</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9B%9B%E5%85%83%E6%95%B0"><span class="nav-number">9.1.8.2.</span> <span class="nav-text">四元数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Unity%E5%9F%BA%E6%9C%AC%E5%86%85%E5%AE%B9"><span class="nav-number">9.2.</span> <span class="nav-text">Unity基本内容</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="nav-number">9.2.1.</span> <span class="nav-text">下载与安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Unity%E7%AA%97%E5%8F%A3%E8%A7%86%E5%9B%BE"><span class="nav-number">9.2.2.</span> <span class="nav-text">Unity窗口视图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%B7%A5%E4%BD%9C%E8%A7%86%E5%9B%BE"><span class="nav-number">9.2.3.</span> <span class="nav-text">常用工作视图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Unity%E8%B5%84%E6%BA%90%E5%95%86%E5%BA%97-AssetStore"><span class="nav-number">9.2.4.</span> <span class="nav-text">Unity资源商店 AssetStore</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Unity%E8%84%9A%E6%9C%AC%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF"><span class="nav-number">9.3.</span> <span class="nav-text">Unity脚本开发技术</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E7%AE%80%E4%BB%8B"><span class="nav-number">9.3.1.</span> <span class="nav-text">脚本简介</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80"><span class="nav-number">9.3.1.1.</span> <span class="nav-text">脚本语言</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#C-%E7%AE%80%E4%BB%8B"><span class="nav-number">9.3.1.2.</span> <span class="nav-text">C#简介</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E4%B8%8E%E7%B1%BB%E3%80%81%E7%BB%84%E4%BB%B6%E3%80%81%E6%B8%B8%E6%88%8F%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">9.3.1.3.</span> <span class="nav-text">脚本与类、组件、游戏对象之间的关系</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E7%9A%84%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C"><span class="nav-number">9.3.2.</span> <span class="nav-text">脚本的相关操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8"><span class="nav-number">9.3.3.</span> <span class="nav-text">脚本编辑器</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E7%BC%96%E8%BE%91%E5%99%A8"><span class="nav-number">9.3.3.1.</span> <span class="nav-text">设置默认编辑器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#VSCode%E7%BC%96%E8%BE%91%E5%99%A8-%E4%BB%A3%E7%A0%81%E4%B8%8D%E6%8F%90%E7%A4%BA"><span class="nav-number">9.3.3.2.</span> <span class="nav-text">VSCode编辑器 代码不提示</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-number">9.3.4.</span> <span class="nav-text">常用命名空间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MonoBehaviour%E7%B1%BB"><span class="nav-number">9.3.5.</span> <span class="nav-text">MonoBehaviour类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B8%B8%E6%88%8F%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%BB%84%E4%BB%B6"><span class="nav-number">9.3.6.</span> <span class="nav-text">游戏对象和组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%ACAPI"><span class="nav-number">9.3.7.</span> <span class="nav-text">常用脚本API</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%8F%E7%A8%8B"><span class="nav-number">9.3.8.</span> <span class="nav-text">协程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%9F%BA%E6%9C%AC%E7%9A%843D%E5%9C%BA%E6%99%AF"><span class="nav-number">9.4.</span> <span class="nav-text">创建基本的3D场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="nav-number">9.5.</span> <span class="nav-text">物理系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2UGUI"><span class="nav-number">9.6.</span> <span class="nav-text">图形用户界面UGUI</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Mecanim%E5%8A%A8%E7%94%BB%E7%B3%BB%E7%BB%9F"><span class="nav-number">9.7.</span> <span class="nav-text">Mecanim动画系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BC%E8%88%AA%E7%BD%91%E6%A0%BC%E5%AF%BB%E8%B7%AF"><span class="nav-number">9.8.</span> <span class="nav-text">导航网格寻路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9F%B3%E6%95%88%E7%B3%BB%E7%BB%9F"><span class="nav-number">9.9.</span> <span class="nav-text">音效系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E5%85%89%E7%85%A7%E5%92%8C%E7%B2%92%E5%AD%90%E7%B3%BB%E7%BB%9F"><span class="nav-number">9.10.</span> <span class="nav-text">全局光照和粒子系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%B8%E6%88%8F%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E4%B8%8E%E8%B7%A8%E5%B9%B3%E5%8F%B0%E5%8F%91%E5%B8%83"><span class="nav-number">9.11.</span> <span class="nav-text">游戏资源打包与跨平台发布</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UGUI%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="nav-number">9.12.</span> <span class="nav-text">UGUI综合案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5"><span class="nav-number">10.</span> <span class="nav-text">相关链接</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E4%BA%BAFPS-15%E5%B9%B4"><span class="nav-number">10.1.</span> <span class="nav-text">多人FPS 15年</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E6%88%90%E5%9C%B0%E5%BD%A2%E7%A8%8B%E5%BA%8F-17%E5%B9%B4"><span class="nav-number">10.2.</span> <span class="nav-text">生成地形程序 17年</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2D%E5%B9%B3%E5%8F%B0%E6%B8%B8%E6%88%8F-15%E5%B9%B4"><span class="nav-number">10.3.</span> <span class="nav-text">2D平台游戏 15年</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8%E7%BA%BF%E5%A4%9A%E4%BA%BA%E6%B8%B8%E6%88%8F01-2022"><span class="nav-number">10.4.</span> <span class="nav-text">在线多人游戏01 2022</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#good-project-%E6%9E%84%E6%80%9D"><span class="nav-number">11.</span> <span class="nav-text">good project 构思</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%8F%8C%E4%BA%BA%E6%83%85%E4%BE%A3%E7%B1%BB"><span class="nav-number">11.1.</span> <span class="nav-text">1.双人情侣类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Game-Jam-%E6%9E%81%E9%99%90%E5%BC%80%E5%8F%91"><span class="nav-number">12.</span> <span class="nav-text">Game Jam 极限开发</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%B8%E6%88%8F%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="nav-number">12.1.</span> <span class="nav-text">游戏类型：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Game-Jam%E6%AD%A3%E5%BC%8F%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="nav-number">12.2.</span> <span class="nav-text">Game Jam正式步骤：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%98%E8%B4%A8%E6%B8%B8%E6%88%8F%EF%BC%9A"><span class="nav-number">12.3.</span> <span class="nav-text">优质游戏：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Vintage-Flashlight"><span class="nav-number">12.3.1.</span> <span class="nav-text">Vintage Flashlight</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Roll-Of-The-Dice-2022GameJam"><span class="nav-number">12.3.2.</span> <span class="nav-text">Roll Of The Dice 2022GameJam</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Randomancer"><span class="nav-number">12.3.3.</span> <span class="nav-text">Randomancer</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">阿尤</p>
  <div class="site-description" itemprop="description">成长就是不断发现自己是SB的过程！</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/blog/archives/">
          <span class="site-state-item-count">72</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/blog/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/blog/tags/">
        <span class="site-state-item-count">44</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ayou129.github.io/blog/p/c8a4b253/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="阿尤">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿尤">
      <meta itemprop="description" content="成长就是不断发现自己是SB的过程！">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Unity | 阿尤">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Unity
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-12-24 03:38:15" itemprop="dateCreated datePublished" datetime="2022-12-24T03:38:15+08:00">2022-12-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-10-22 03:59:15" itemprop="dateModified" datetime="2022-10-22T03:59:15+08:00">2022-10-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>暂无描述</p>
<span id="more"></span>

<h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><h3 id="基础设置"><a href="#基础设置" class="headerlink" title="基础设置"></a>基础设置</h3><blockquote>
<p><a href="https://learn.microsoft.com/zh-cn/visualstudio/gamedev/unity/unity-scripting-upgrade" target="_blank" rel="noopener">https://learn.microsoft.com/zh-cn/visualstudio/gamedev/unity/unity-scripting-upgrade</a></p>
</blockquote>
<p>编辑 项目设置 Player Configuration </p>
<ul>
<li>Scripting Backend</li>
<li>C++<ul>
<li>(首选).NET Standard 2.1。 此 配置文件与 .NET Foundation 发布的 .NET Standard 2.1 配置文件 匹配。 Unity 建议对新项目使用 .NET Standard 2.1。 它比 .NET 4.x 小，有利于尺寸受限的平台。 此外，Unity 承诺在 Unity 支持的所有平台上支持此配置文件。</li>
<li>.NET Framework。 此配置文件提供对最新 .NET 4 API 的访问权限。 它包括.NET Framework类库中提供的所有代码，并支持 .NET Standard 2.1 配置文件。 如果 .NET Standard 2.0 配置文件中未包含项目所需的部分 API，请使用 .NET 4.x 配置文件。 但此 API 的某些部分并非在所有 Unity 平台上均受支持。</li>
</ul>
</li>
</ul>
<h3 id="Unity-Scene-缩放"><a href="#Unity-Scene-缩放" class="headerlink" title="Unity Scene 缩放"></a>Unity Scene 缩放</h3><p>Mac 两手指滑动</p>
<h3 id="输出信息到控制台上"><a href="#输出信息到控制台上" class="headerlink" title="输出信息到控制台上"></a>输出信息到控制台上</h3><ul>
<li>输出函数 Print()</li>
<li>输出函数 Debug.log()</li>
</ul>
<p>相同点：</p>
<ul>
<li>都能将 <code>字符串信息</code> 打印到 Unity编辑器的 <code>Console控制台</code> 上</li>
<li>都来自 <code>UnityEngine</code> 命名空间，使用前必须 <code>using UnityEngine;</code></li>
</ul>
<p>不同点：</p>
<ul>
<li>Print 方法 来自于 <code>MonoBehaviour</code>,使用前必须继承<code>MonoBehaviour</code></li>
<li>Debug.log 不需要继承 就可以使用</li>
</ul>
<h2 id="Inspector"><a href="#Inspector" class="headerlink" title="Inspector"></a>Inspector</h2><h3 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h3><h4 id="Sprite-Renderer-图片精灵渲染"><a href="#Sprite-Renderer-图片精灵渲染" class="headerlink" title="Sprite Renderer 图片精灵渲染"></a>Sprite Renderer 图片精灵渲染</h4><blockquote>
<p>用于渲染__精灵__并控制其在 2D 和 3D 项目场景中的可视化效果。</p>
</blockquote>
<h4 id="Rigidbody-2D-增加重力"><a href="#Rigidbody-2D-增加重力" class="headerlink" title="Rigidbody 2D 增加重力"></a>Rigidbody 2D 增加重力</h4><h4 id="CircleCollider-2D-圆形碰撞器，可以设置偏移量"><a href="#CircleCollider-2D-圆形碰撞器，可以设置偏移量" class="headerlink" title="CircleCollider 2D 圆形碰撞器，可以设置偏移量"></a>CircleCollider 2D 圆形碰撞器，可以设置偏移量</h4><blockquote>
<p><a href="https://docs.unity3d.com/cn/current/Manual/class-CircleCollider2D.html" target="_blank" rel="noopener">https://docs.unity3d.com/cn/current/Manual/class-CircleCollider2D.html</a></p>
</blockquote>
<h4 id="Script-行为剧本"><a href="#Script-行为剧本" class="headerlink" title="Script 行为剧本"></a>Script 行为剧本</h4><p>创建Test脚本</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引用程序集，引入并功能</span></span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 和组件建立通信，使用插槽</span></span><br><span class="line">    <span class="keyword">public</span> Rigidbody2D myRigidbody;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="comment">// 在第一帧更新之前调用Start</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// gameObject.name = &#x27;角色名&#x27;;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="comment">// 每帧调用一次更新</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>gameObject</strong></p>
<ul>
<li>gameObject 对应 Inspector对象</li>
<li>gameObject.name 对应 Inspector的 name</li>
<li>gameObject.tag 对应 Inspector的 tag</li>
</ul>
<p><strong>Script插槽</strong><br><code>Script</code>只能和 <code>ganmeObject</code> 交互，和其他组件之间要引用建立通信，使用<code>插槽</code></p>
<p><strong>transform</strong><br>位置组件，有两个属性</p>
<ul>
<li>position:游戏对象中心点在世界空间的位置</li>
<li>localPosition:游戏对象中心点在父类空间的位置</li>
</ul>
<p>世界空间就是Unity最大的空间，可以创建一个无任何父节点的空对象<br>position 0<br>rotation 0<br>scale 1</p>
<p><strong>Time</strong></p>
<blockquote>
<p><a href="https://docs.unity3d.com/cn/current/Manual/TimeFrameManagement.html" target="_blank" rel="noopener">https://docs.unity3d.com/cn/current/Manual/TimeFrameManagement.html</a></p>
</blockquote>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 返回自上一帧完成以来所经过的时间(以秒为单位)。该值取决于游戏或应用程序运行的每秒帧数(FPS)</span><br><span class="line">Time.deltaTime </span><br><span class="line"></span><br><span class="line">## 保证无论帧率多少，运算都会计算出相同的值</span><br><span class="line">速度 = 运算 * Time.deltaTime</span><br></pre></td></tr></table></figure>

<p>预制，就像一个游戏对象的蓝图<br>管道生成器<br>每秒生成管道</p>
<p><strong>变量</strong><br>脚本绑定UI对象的方式</p>
<ul>
<li>GameObject.Find()<ul>
<li>查找目标的路径是从Assert的相对路径来查找的，不用将脚本挂载到要查找的对象也可以实现查找</li>
<li>返回的是对象的Inspector的完整属性，如果对象下面挂载了其他对象，也一并包含(子对象)</li>
</ul>
</li>
<li>GetComponent<ComponentType>();<ul>
<li>必须挂载在对象下面的脚本</li>
<li>获取对象的一部分属性，其他对象的脚本是无法访问当前对象的属性的</li>
</ul>
</li>
</ul>
<p><strong>Instantiate</strong><br>克隆对象 被克隆的对象 位置 四元素旋转</p>
<p><strong>Destory</strong><br>Destory(object,销毁延时float); 销毁对象</p>
<p><strong>For</strong></p>
<ul>
<li>生成随机的树<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> GameObject objectToSpawn;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Start is called before the first frame update</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 生成树的数量</span></span><br><span class="line">    <span class="built_in">int</span> numberOfTreesToSpawn = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; numberOfTreesToSpawn; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 任意位置 <span class="doctag">TODO:</span>这里第三个参数需要补充 应该是和i有关系的</span></span><br><span class="line">        Vector3 randomPosition = <span class="keyword">new</span> Vector3(Random.Range(<span class="number">11</span>, <span class="number">-11</span>), Random.Range(<span class="number">4</span>, <span class="number">-7</span>));</span><br><span class="line">        <span class="comment">// 克隆对象</span></span><br><span class="line">        Instantiate(objectToSpawn, randomPosition, Quaternion.identity);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>if else</strong></p>
<ul>
<li>根据玩家不同性别选择不同角色对象<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> GameObject female; <span class="comment">// 女性角色</span></span><br><span class="line"><span class="keyword">public</span> GameObject male; <span class="comment">// 男性角色</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">bool</span> isFemale;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Start is called before the first frame update</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 读取玩家信息...</span></span><br><span class="line">    <span class="comment">// 匹配玩家的性别分配不同角色</span></span><br><span class="line">    <span class="keyword">if</span> (isFemale)</span><br><span class="line">    &#123;</span><br><span class="line">        Instantiate(female, Vector3.zero, Quaternion.identity);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        Instantiate(male, Vector3.zero, Quaternion.identity);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>用户输入</strong><br>有两种方式</p>
<ol>
<li>Input 原始<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">float</span> speed = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Start is called before the first frame update</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 根据用户案件输入改变位置</span></span><br><span class="line">    Vector3 playerInput = <span class="keyword">new</span> Vector3(Input.GetAxisRaw(<span class="string">&quot;Horizontal&quot;</span>), Input.GetAxisRaw(<span class="string">&quot;Vertical&quot;</span>), <span class="number">0</span>);</span><br><span class="line">    transform.position = transform.position + playerInput.normalized * speed * Time.deltaTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Input Manager</li>
</ol>
<p><strong>Vector2.MoveTowards</strong><br>Vector2.MoveTowards(起始位置，目标位置，速度);</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> GameObject target; <span class="comment">// 目标对象的位置</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">float</span> speed; <span class="comment">// 行走时的速度</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Update is called once per frame</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 跟踪玩家，例如：怪物追踪玩家</span></span><br><span class="line">    transform.position = Vector2.MoveTowards(transform.position, transform.transform.position, speed * Time.deltaTime);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>OnTriggerEnter2D</strong><br>当对象碰撞或接触另一个对象时执行</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> GameObject target; <span class="comment">// 目标对象的位置</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">float</span> speed; <span class="comment">// 行走时的速度</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerEnter2D</span>(<span class="params">Collider2D other</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// 碰撞的对象信息 other</span></span><br><span class="line">    <span class="comment">// 碰撞后的行为：被攻击(粒子特效)、加减分数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="安全游戏系统"><a href="#安全游戏系统" class="headerlink" title="安全游戏系统"></a>安全游戏系统</h3><p>二进制格式，保存所有想要的数据。<br>三个重要组件</p>
<ul>
<li>Gameplay Data</li>
<li>Save Game Container</li>
<li>Serialization System To write the Binary File 序列化系统读写二进制文件</li>
</ul>
<p>Assets</p>
<ul>
<li>Scripts<ul>
<li>Serialization<ul>
<li>SerializationManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>TODU：待补充…</p>
<h3 id="帧同步"><a href="#帧同步" class="headerlink" title="帧同步"></a>帧同步</h3><h2 id="Unity-多人游戏框架"><a href="#Unity-多人游戏框架" class="headerlink" title="Unity 多人游戏框架"></a>Unity 多人游戏框架</h2><blockquote>
<p><code>Netcode for GameObjects</code> <a href="https://www.bilibili.com/video/av898075461/?vd_source=dbdc982d62ac5b2bb1058ae9896d20df" target="_blank" rel="noopener">https://www.bilibili.com/video/av898075461/?vd_source=dbdc982d62ac5b2bb1058ae9896d20df</a></p>
</blockquote>
<p>主要特点：</p>
<ul>
<li>服务器客户端都跑 Unity，运行同一套代码，但是可能跑不同逻辑分支</li>
<li>状态同步(区别于lock-step帧同步)</li>
</ul>
<p>安装: <code>Package Manager</code></p>
<p>其他介绍：<br>自定义服务器  or 云服务提供商<br>实时服务、云架构<br>云技术和游戏服务器托管</p>
<p>同步不同游戏循环的解决方案： <code>Netcode for GameObjects</code> 和连接工具 Relay(转播、中继节点)、Lobby(大厅)、Multiplay和Matchmaker<br>网络变量、远程过程调用，同步世界之间的关键信息<br>运行载体：桌面、手机、控制台<br>不同阶段：开发阶段、预发布阶段、生产阶段</p>
<p>游戏的阶段：<br>客户端启动：</p>
<ol>
<li>玩家进行匿名认证</li>
<li>Host在Lobby服务中创建一个Lobby，向其他玩家宣告上线</li>
<li>Relay服务的后台创建新位置</li>
<li>使用数据位置调用Netcode的start，并将网络场景切换到角色选择场景(包含网络列表的网络对象)</li>
<li>客户端，大厅列表，后台向Lobby服务请求该主机的Relay信息，请求Relay服务并且加入它，启动一个Netcode连接</li>
<li>主机端Netcode会批准连接，在 <code>自定义会话管理器</code> 中创建一个 新的玩家条目，即使断开连接，也不会丢失进程</li>
</ol>
<p>GameObject上需要有一个网络转换(Network transform),让他们的位置自动复制，从主机到所有客户端<br>游戏中的所有状态都使用网络变量：</p>
<ul>
<li>动画和特效</li>
<li>法师的火弩箭</li>
<li>坦克的近战攻击</li>
<li>门开的状态</li>
<li>弓箭手的箭</li>
<li>机器人被破坏的状态</li>
<li>角色的生命值</li>
</ul>
<p>网络条表示状态<br>支持晚加入，这样就不必维护自己的点RPC列表，以便在新玩家连接时发送</p>
<p>门状态使用 <code>netbars</code> 作为它的状态，点击按钮时，它们会更新状态主机站点，并且复制到所有客户端，并且使用网络动画器触发动画。<br>箭头正在使用 <code>fork对象池</code> ，使用自定义生成处理程序来管理客户端对象的生命周期</p>
<p>缓解延迟和抖动：</p>
<ul>
<li>角色选择的权威客户端</li>
<li>动作预测(在点击时运行一个小的跳跃动画来怼输入做出相应)</li>
<li>缓冲插值(Buffer interpolation)</li>
<li>网络变换</li>
</ul>
<p>Relay：连接玩家进行端到端体验的枢纽，将A的数据包传送到B<br>Relay Server<br>特点：</p>
<ul>
<li>安全性，加密方式</li>
<li>低延迟</li>
</ul>
<p>Lobby：</p>
<ul>
<li>创建和浏览公共游戏的方法<ul>
<li>邀请朋友参加私人游戏(人类可读+机器唯一ID)</li>
<li>Quick Join的轻量级玩家匹配功能(公开游戏)</li>
</ul>
</li>
<li>提供玩家设备提供一个手机和共享安全信息的场所</li>
<li>灵活的状态存储，具有不同级别</li>
</ul>
<p>语音系统<br>社交游戏、竞技游戏、</p>
<p>Multiplay：创建和上传游戏服务器fleet和游戏服务器容器，将它们分配到世界各地的混合数据中心，为游戏发布做好准备。</p>
<p>Matchmaker：玩家匹配系统</p>
<p>很多开发工作，迭代、处理自己的队列、自己的构建，Alpha&amp;Beta，公开测试，最坏的情况：停机部署和规则修复<br>结论就是需要一个支持实验的系统，支持A&#x2F;B测试、调优、尤其复杂情况时</p>
<p>Unity面板中：</p>
<ul>
<li>Environments系统：为生产、开发、QA执行不同的隔离</li>
</ul>
<p>新增两种隔离类型队列(Queue)和池(Pool)</p>
<h2 id="帧同步-1"><a href="#帧同步-1" class="headerlink" title="帧同步"></a>帧同步</h2><h2 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h2><h3 id="王者荣耀-商业级手游"><a href="#王者荣耀-商业级手游" class="headerlink" title="王者荣耀 商业级手游"></a>王者荣耀 商业级手游</h3><h3 id="战斗地形的创建-地形、植物、箭塔"><a href="#战斗地形的创建-地形、植物、箭塔" class="headerlink" title="战斗地形的创建 地形、植物、箭塔"></a>战斗地形的创建 地形、植物、箭塔</h3><p>导入地形<br>增加植物<br>增加箭塔<br>  Assets-&gt;Model，选中箭塔，放到合适的位置<br>箭塔增加材质<br>  Assets-&gt;Model，选中材质拖动到箭塔中<br>增加英雄</p>
<h3 id="玩家控制"><a href="#玩家控制" class="headerlink" title="玩家控制"></a>玩家控制</h3><h4 id="手游"><a href="#手游" class="headerlink" title="手游"></a>手游</h4><blockquote>
<p>虚拟摇杆插件(EasyTouch)</p>
</blockquote>
<p>创建空元素</p>
<ul>
<li>EasyTouch 且添加组件 Assets-&gt;EasyTouch-&gt;Plugins-&gt;EasyTouch</li>
<li>EasyJoystick 且添加组件 Assets-&gt;EasyTouch-&gt;Plugins-&gt;EasyJoystick</li>
</ul>
<p>添加完之后 Hierarchy 会出现 MoveController</p>
<p>如何使用</p>
<ol>
<li>在英雄上添加 <code>MoveController</code> 组件，在Assets里面找</li>
</ol>
<h4 id="端游"><a href="#端游" class="headerlink" title="端游"></a>端游</h4><blockquote>
<p>新版输入系统 <code>input system</code></p>
</blockquote>
<p>创建用户 player 胶囊capsule tag&#x3D;&gt; player<br>创建 Assets &#x3D;&gt; prefabs，将player纳入</p>
<img src="/blog/p/c8a4b253/createUser01.png" class="" title="createUser01.png">

<p>安装</p>
<ul>
<li>windows &#x3D;&gt;</li>
<li>package Mamager &#x3D;&gt;</li>
<li>unity registry &#x3D;&gt;</li>
<li>input system(输入控制器 键盘等等) &#x3D;&gt;</li>
<li>统统 yes yes</li>
</ul>
<p>OnFoot</p>
<ul>
<li>Movement wsad value Vector2</li>
<li>Jump space</li>
<li>Look Delta 鼠标滑动</li>
<li>Crouch 下蹲</li>
<li>Spring 加速</li>
</ul>
<img src="/blog/p/c8a4b253/InputManager01.png" class="" title="InputManager01.png">

<p>三、方向键<br>新创建InputManger、PlayerMotor 增加到player 组件当中<br>InputManger获取到方向改变(void FixedUpdate 读取玩家的当前状态 固定帧处理) &#x3D;&gt;<br>执行玩家引擎(ProcessMove(Vector2的x和y)) &#x3D;&gt;<br>CharActerController.move(transform.TransformDirection(moveDirection)  速度  每帧产生的时间)</p>
<p>四、重力<br>Velocity速度<br>gravity重力<br>isGrounded 已接地<br>重力值 -9.8f<br>核心：让用户自然下坠(重力*deltaTime)，下坠到某个值就停下(地板)<br>用户y坐标降低</p>
<p>五、跳跃<br>y &#x3D; 跳跃的高度<em>重力</em>变数(可以减(*0.5))</p>
<p>六、加速<br>是否加速 sprinting<br>按了shift键就把速度提升到8，是否加速ing</p>
<p>七、蹲<br>是否下蹲 bool crouching<br>下蹲差 bool lerpCrouch &#x3D; false;<br>下蹲时间 float crouchTimer &#x3D; 0;</p>
<p>八、视角</p>
<ol>
<li>Look &#x3D;&gt; Vector2 bind Delta 鼠标</li>
<li>PlayerLook.cs  ProcessLook<br>InputManger 引入  <figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">private PlayerLook playerLook<span class="comment">;</span></span><br><span class="line"><span class="attribute">playerLook</span> <span class="operator">=</span> GetComponent&lt;PlayerLook&gt;()<span class="comment">;</span></span><br><span class="line">void LateUpdate()</span><br><span class="line">&#123;</span><br><span class="line">  playerLook.ProcessLook(onFoot.Look.ReadValue&lt;Vector2&gt;())<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Player&#x3D;&gt;摄像机 绑定到 player组件的cam上</li>
</ol>
<h4 id="摄像机玩家跟随"><a href="#摄像机玩家跟随" class="headerlink" title="摄像机玩家跟随"></a>摄像机玩家跟随</h4><p>移动时改变玩家视角</p>
<ol>
<li><code>Main Camera</code> 增加组件 <code>CameraFollow</code> script</li>
<li>编写 <code>CameraFollow</code><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">System</span>.Collections;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">System</span>.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="built_in">public</span> <span class="keyword">class</span> C : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    [SerializeField]</span><br><span class="line">    private <span class="keyword">Transform</span> player;</span><br><span class="line"></span><br><span class="line">    <span class="type">float</span> cameraX;</span><br><span class="line">    <span class="type">float</span> cameraZ;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">public</span> <span class="type">float</span> y = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">public</span> <span class="type">float</span> z = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    // <span class="keyword">Start</span> <span class="keyword">is</span> <span class="keyword">called</span> <span class="keyword">before</span> the first frame <span class="keyword">update</span></span><br><span class="line">    <span class="type">void</span> <span class="keyword">Start</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // <span class="keyword">Update</span> <span class="keyword">is</span> <span class="keyword">called</span> once per frame</span><br><span class="line">    <span class="type">void</span> <span class="keyword">Update</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(player)&#123;</span><br><span class="line">            cameraX = player.position.x;</span><br><span class="line">            cameraZ = player.position.z;</span><br><span class="line">            this.<span class="keyword">transform</span>.position = <span class="built_in">new</span> Vector3(cameraX, y, cameraZ + z)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">3.</span> `CameraFollow` script 中将玩家Player 添加到 类成员Player</span><br></pre></td></tr></table></figure>
第二个方案：标准资源包中 Standard Assets -&gt; Scripts -&gt; Camera Scripts -&gt; SmoothFollow</li>
<li><code>Main Camera</code> 增加组件 <code>SmoothFollow</code> script</li>
<li><code>SmoothFollow</code> script 中将玩家 添加到 Target</li>
</ol>
<h4 id="攻击特效"><a href="#攻击特效" class="headerlink" title="攻击特效"></a>攻击特效</h4><p>触发：攻击按钮<br>画布{<br>    攻击按钮1<br>    攻击按钮2<br>    攻击按钮3 大招<br>    闪现<br>    治疗<br>}<br>执行：动画事件<br>创建玩家攻击脚本Assets&#x2F;Scripts&#x2F;PlayerAttack.cs</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerAttack</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">private</span> ParticleSystem fire1;</span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">private</span> GameObject fire2;</span><br><span class="line">    <span class="keyword">private</span> Animator ani; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        ani = GetComponent&lt;Animator&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Atk1</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        ani.SetInteger(<span class="string">&#x27;state&#x27;</span>, AnimState.ATTACK1)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Atk1</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        ani.SetInteger(<span class="string">&#x27;state&#x27;</span>, AnimState.ATTACK2)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Atk1</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        ani.SetInteger(<span class="string">&#x27;state&#x27;</span>, AnimState.ATTACK3)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 播放 粒子效果，点击攻击后时间线走一部分</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">EffectPlayer</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        fire1.play();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将状态设置回来，在时间线的尾部</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ResetIdle</span>()</span>&#123;</span><br><span class="line">        ani.SetInteger(<span class="string">&#x27;state&#x27;</span>, AnimState.IDLE)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在Animator面板中，Entry-&gt;idle1-&gt;n个动画中(1技能、2技能、3技能)增加事件Events，不同时间线不同事件<br>给画布中的按钮 指定 事件，onclick-&gt;playerAttack-&gt;指定技能</p>
<img src="/blog/p/c8a4b253/PlayerAttack.png" class="" title="PlayerAttack.png">

<h3 id="游戏打包-APK"><a href="#游戏打包-APK" class="headerlink" title="游戏打包 APK"></a>游戏打包 APK</h3><ol>
<li>Unity-&gt;file-&gt;Build Setting</li>
<li>选择平台，需要提前下载好打包软件</li>
<li>点击player settings，设置相关信息，基本信息+包信息</li>
<li>配置安卓环境 Unity Preferences-&gt;External Tools-&gt;安卓相关信息</li>
<li>build-&gt;目录名称</li>
</ol>
<h2 id="ISO-x2F-OSI-参考模型"><a href="#ISO-x2F-OSI-参考模型" class="headerlink" title="ISO&#x2F;OSI 参考模型"></a>ISO&#x2F;OSI 参考模型</h2><a href="/blog/p/cf930505/" title="Mian">Mian</a>
<p>SocketModel</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SocketModel</span>&#123;</span><br><span class="line">    <span class="comment">// 一级协议，区分 所属模块</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">byte</span> type = &#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">    <span class="comment">// 二级协议，区分 模块下所属子模块</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> area = &#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">    <span class="comment">// 三级协议，区分 当前处理逻辑功能</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> command = &#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">    <span class="comment">// 消息体 当前需要处理的主体数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">object</span> message = &#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SocketModel</span>()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SocketModel</span>(<span class="params"><span class="built_in">byte</span> t, <span class="built_in">int</span> a,iunt c,<span class="built_in">object</span> o</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.type = t;</span><br><span class="line">        <span class="keyword">this</span>.area = a;</span><br><span class="line">        <span class="keyword">this</span>.command = c;</span><br><span class="line">        <span class="keyword">this</span>.message = o;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">GetMessage</span>&lt;<span class="title">T</span>&gt;()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (T) message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="temp"><a href="#temp" class="headerlink" title="temp"></a>temp</h3><p>动画状态机</p>
<h3 id="游戏模式构建"><a href="#游戏模式构建" class="headerlink" title="游戏模式构建"></a>游戏模式构建</h3><h3 id="地形创建"><a href="#地形创建" class="headerlink" title="地形创建"></a>地形创建</h3><h4 id="NGUI插件"><a href="#NGUI插件" class="headerlink" title="NGUI插件"></a>NGUI插件</h4><h4 id="界面"><a href="#界面" class="headerlink" title="界面"></a>界面</h4><h3 id="核心"><a href="#核心" class="headerlink" title="核心"></a>核心</h3><p>核心游戏场景逻辑<br>地图生成<br>地形系统<br>英雄生成<br>消息接收<br>加载英雄模型<br>设置英雄模型<br>死亡处理</p>
<h4 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h4><h4 id="玩家匹配"><a href="#玩家匹配" class="headerlink" title="玩家匹配"></a>玩家匹配</h4><p>房间</p>
<ul>
<li>私有房间</li>
<li>公开房间</li>
<li>自定义</li>
</ul>
<h4 id="技能模块"><a href="#技能模块" class="headerlink" title="技能模块"></a>技能模块</h4><p>技能程序框架</p>
<ul>
<li>攻击</li>
</ul>
<h4 id="战队功能"><a href="#战队功能" class="headerlink" title="战队功能"></a>战队功能</h4><h3 id="AI"><a href="#AI" class="headerlink" title="AI"></a>AI</h3><p>寻路<br>移动</p>
<p>画面</p>
<ul>
<li>血条(CRUD)</li>
</ul>
<h2 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h2><p>内存<br>渲染</p>
<p>资源管理</p>
<p>Shader<br>AI<br>图形学<br>引擎架构</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="游戏开发流程"><a href="#游戏开发流程" class="headerlink" title="游戏开发流程"></a>游戏开发流程</h3><ol>
<li>将项目代码添加到git当中</li>
<li>unity项目结构<br>脚本Script<br>艺术Art<br>预制文件夹<br>资产包文件夹</li>
<li>部署和集成自动化系统</li>
<li>沙盒项目(用于清理Assets Store资产包和试验品)</li>
<li>提出一个合理的计划 trello 团队管理工具 (清单、进度)</li>
<li>分享进度 WebGl 或 Steam</li>
<li>建立游戏的垂直部分，不要构建整个事务、整个故事、整个other<br>建立游戏中最好玩的地方&amp;可玩版本(告诉自己其他玩家为什么会玩)<br>建立核心，再在基础之上往上堆栈</li>
<li>下一步是什么</li>
</ol>
<h3 id="搭建示例舞台"><a href="#搭建示例舞台" class="headerlink" title="搭建示例舞台"></a>搭建示例舞台</h3><h4 id="FPS"><a href="#FPS" class="headerlink" title="FPS"></a>FPS</h4><p>一、新建舞台 create cube<br>地板 floor</p>
<img src="/blog/p/c8a4b253/floor.png" class="" title="floor.png">

<p>方块xN</p>
<img src="/blog/p/c8a4b253/%E6%96%B9%E5%9D%97xN01.png" class="" title="方块xN01.png">
<img src="/blog/p/c8a4b253/%E6%96%B9%E5%9D%97xN02.png" class="" title="方块xN02.png">

<p>灯光调暗 Directional_light_intensity 0.7</p>
<img src="/blog/p/c8a4b253/Directional_light_intensity.png" class="" title="Directional_light_intensity.png">



<h2 id="基础知识-1"><a href="#基础知识-1" class="headerlink" title="基础知识"></a>基础知识</h2><h3 id="3D数学"><a href="#3D数学" class="headerlink" title="3D数学"></a>3D数学</h3><h4 id="坐标系"><a href="#坐标系" class="headerlink" title="坐标系"></a>坐标系</h4><p><strong>笛卡尔坐标系</strong></p>
<blockquote>
<p><code>直角坐标系</code> 和 <code>斜坐标系</code> 统称为 <code>笛卡尔坐标系</code></p>
</blockquote>
<ul>
<li>相交于原点的两条数轴，构成了平面仿射坐标系</li>
<li>两条数轴上的度量单位相等，则称此仿射坐标系为笛卡尔坐标系</li>
<li>两条数轴互相垂直的笛卡尔坐标系，称为笛卡尔直角坐标系，否则称为笛卡尔斜角坐标系</li>
</ul>
<p>2D笛卡儿坐标系中，可用(x，y)来表示一个点，被称为坐标。</p>
<p>2D笛卡儿坐标系的基础上，增加一条垂直于2D平面的轴就构成了3D笛卡儿坐标系。<br>3D笛卡儿坐标系中，(x，y，z)用来表示一个点。</p>
<p><strong>左手坐标系 与 右手坐标系</strong><br>在3D笛卡儿坐标系中，有两种方式可以确定Z轴的方向，即左手坐标系与右手坐标系。</p>
<ul>
<li>左手坐标系：伸开左手，大拇指指向X轴正方向，食指指向Y轴正方向，其他3个手指指向Z轴正方向。</li>
<li>右手坐标系：伸开右手，大拇指指向X轴正方向，食指指向Y轴正方向，其他3个手指指向Z轴正方向。<img src="/blog/p/c8a4b253/%E5%B7%A6%E6%89%8B%E5%9D%90%E6%A0%87%E7%B3%BB%E5%92%8C%E5%8F%B3%E6%89%8B%E5%9D%90%E6%A0%87%E7%B3%BB.png" class="" title="左手坐标系和右手坐标系">
两种坐标系的旋转正方向不同，左手坐标系是顺时针方向旋转，右手坐标系是逆时针方向旋转。<img src="/blog/p/c8a4b253/%E5%B7%A6%E6%89%8B%E5%9D%90%E6%A0%87%E7%B3%BB%E5%92%8C%E5%8F%B3%E6%89%8B%E5%9D%90%E6%A0%87%E7%B3%BB%E7%9A%84%E6%97%8B%E8%BD%AC%E6%96%B9%E5%90%91.png" class="" title="左手坐标系和右手坐标系的旋转方向"></li>
<li>常见左手坐标系<ul>
<li>Unity 3D(世界坐标系)</li>
<li>Direct 3D</li>
</ul>
</li>
<li>常见右手坐标系<ul>
<li>3D笛卡尔坐标系</li>
<li>OpenGL</li>
</ul>
</li>
</ul>
<h4 id="世界坐标系"><a href="#世界坐标系" class="headerlink" title="世界坐标系"></a>世界坐标系</h4><blockquote>
<p>全局坐标系</p>
</blockquote>
<ul>
<li>唯一切固定不变</li>
<li>建立了描述其他坐标系所需的参考和框架，即可以用世界坐标系描述其他坐标系，但是不能用更大的坐标系描述世界坐标系。</li>
<li>描述场景内所有物体的<code>位置和方向</code>的基准，可以使用<code>transform.position</code>获取<code>游戏对象的世界坐标</code>。</li>
</ul>
<p>因为Unity使用左手坐标系，so：</p>
<img src="/blog/p/c8a4b253/Unity%E4%BD%BF%E7%94%A8%E5%B7%A6%E6%89%8B%E5%9D%90%E6%A0%87%E7%B3%BB.png" class="" title="Unity使用左手坐标系">

<p>在游戏对象的Transform组件中，reset后，此时位置就位于世界坐标系的原点。</p>
<h4 id="本地坐标系"><a href="#本地坐标系" class="headerlink" title="本地坐标系"></a>本地坐标系</h4><h5 id="本地坐标系-1"><a href="#本地坐标系-1" class="headerlink" title="本地坐标系"></a>本地坐标系</h5><blockquote>
<p>局部坐标系(模型或物体坐标系)，它是与特定物体相关联的坐标系，每个物体都有，当物体发生平移或旋转时，其本地坐标系也会随之发生平移或旋转。</p>
</blockquote>
<p>模型Mesh保存的顶点坐标均为本地坐标系下的坐标；每个模型的本地坐标系的位置和朝向由建模师在建模软件中设定，在<code>引擎中无法修改</code>。</p>
<p>选中了某个物体后，显示的坐标系就是本地坐标系</p>
<h5 id="父坐标系"><a href="#父坐标系" class="headerlink" title="父坐标系"></a>父坐标系</h5><p>用于描述物体间相对位置关系。指的是物体父对象的本地坐标系。</p>
<p>子物体将父物体的坐标点作为自身的坐标原点</p>
<ul>
<li>使用<code>transform.localPosition</code>可以获得物体在父物体的本地坐标系中的位置。<ul>
<li>该物体有父物体，获得其在<code>父物体的本地坐标系中的坐标</code>。</li>
<li>该物体没有父物体，获得的是<code>该物体在世界坐标系中的坐标</code>。</li>
</ul>
</li>
<li>在Inspector视图中显示的数值为localPosition的值。</li>
</ul>
<h5 id="惯性坐标系"><a href="#惯性坐标系" class="headerlink" title="惯性坐标系"></a>惯性坐标系</h5><p>惯性坐标系是为了简化从世界坐标系到本地坐标系的转换而引入的一种新坐标系。<br>惯性坐标系的原点和本地坐标系的原点重合，但惯性坐标系的坐标轴平行于世界坐标系的坐标轴。</p>
<img src="/blog/p/c8a4b253/Unity%E6%83%AF%E6%80%A7%E5%9D%90%E6%A0%87%E7%B3%BB.png" class="" title="Unity惯性坐标系">

<h4 id="屏幕坐标系"><a href="#屏幕坐标系" class="headerlink" title="屏幕坐标系"></a>屏幕坐标系</h4><blockquote>
<p>建立在屏幕上的二维坐标系。</p>
</blockquote>
<p>Unity的屏幕坐标系以屏幕左下角对应坐标系的原点，屏幕水平方向对应坐标系的X轴，屏幕垂直方向对应坐标系的Y轴。</p>
<p>坐标以像素来定义：</p>
<ul>
<li>屏幕的左下角坐标为(0，0)</li>
<li>右上角坐标为(Screen.width，Screen.height)</li>
<li>Z轴的坐标是摄像机的世界坐标系中的Z轴坐标的负值。<img src="/blog/p/c8a4b253/Unity%E5%B1%8F%E5%B9%95%E5%9D%90%E6%A0%87%E7%B3%BB.png" class="" title="Unity屏幕坐标系"></li>
</ul>
<p><code>鼠标位置坐标</code>属于屏幕坐标，通过<code>Input.MousePosition</code>可以获得该位置的坐标。<br><code>手指触摸屏幕</code>属于屏幕坐标，通过<code>Input.GetTouch(0).position</code>可以获得单个手指触摸屏幕时手指的坐标。</p>
<h4 id="视口坐标系"><a href="#视口坐标系" class="headerlink" title="视口坐标系"></a>视口坐标系</h4><blockquote>
<p>视口坐标系主要用在摄像机显示中，可以在摄像机的属性窗口中看到。</p>
</blockquote>
<p>视口坐标系是将Game视图的屏幕坐标系单位化，即标准化之后的屏幕坐标。视口坐标与屏幕坐标的属性相同。其范围是左下角为起点(0，0)，右上角为终点(1，1)，其余与屏幕坐标同理。</p>
<p>利用比例可以控制点在屏幕内的位置，而不用关注屏幕实际大小的变化，常用于自适应。例如</p>
<ul>
<li>Camera的世界坐标是(0，0，-10)，屏幕大小为800像素×600像素，则屏幕的中间点的视口坐标为(0.5，0.5，10)。</li>
</ul>
<p>视口坐标系对于场景的显示非常重要，当使用多个摄像机在同一个场景中显示多个视口时，需要使用视口坐标系。一个摄像机对应一个视口，视口预览展示了摄像机看到的所有物体，其默认大小是Width&#x3D;1、Height&#x3D;1，位置也是从0到1，即左下角为(0，0)，右上角为(1，1)。</p>
<p>摄像机前面的长方形框为视口。视口坐标与屏幕坐标一致，指向为Z轴正方向，Z轴的坐标是摄像机的世界坐标系中的Z轴坐标的负值。</p>
<img src="/blog/p/c8a4b253/Unity%E8%A7%86%E5%8F%A3%E5%9D%90%E6%A0%87%E7%B3%BB.png" class="" title="Unity视口坐标系">

<h4 id="坐标系的转换"><a href="#坐标系的转换" class="headerlink" title="坐标系的转换"></a>坐标系的转换</h4><p><code>世界坐标系</code>和<code>本地坐标系</code>的相互转换函数如下。</p>
<ul>
<li>Transform.TransformPoint(Vector3 position)：将一个坐标点从本地坐标系转换到世界坐标系。</li>
<li>Transform.InverseTransformPoint(Vector3 position)：将一个坐标点从世界坐标系转换到本地坐标系。</li>
<li>Transform.TransformDirection(Vector3 direction)：将一个方向从本地坐标系转换到世界坐标系。</li>
<li>Transform.InverseTransformDirection(Vector3 direction)：将一个方向从世界坐标系转换到本地坐标系。</li>
<li>Transform.TransformVector(Vector3 vector)：将一个向量从本地坐标系转换到世界坐标系。</li>
<li>Transform.InverseTransformVector(Vector3 vector)：将一个向量从世界坐标系转换到本地坐标系。</li>
</ul>
<p>其他常用的一些函数，如Transform.forward()、Transform.right()、Transform.up()，则表示当前物体的本地坐标系的Z轴、X轴、Y轴在世界坐标系中的指向。</p>
<p><code>屏幕坐标系</code>与<code>世界坐标系</code>的相互转换函数如下。</p>
<ul>
<li>Camera.ScreenToWorldPoint(Vector3 position)：将屏幕坐标系转换为世界坐标系。</li>
<li>Camera.WorldToScreenPoint(Vector3position)：将世界坐标系转换为屏幕坐标系。</li>
</ul>
<p><code>屏幕坐标系</code>与<code>视口坐标系</code>的相互转换函数如下。</p>
<ul>
<li>Camera.ScreenToViewportPoint(Vector3 position)：将屏幕坐标系转换为视口坐标系。</li>
<li>Camera.ViewportToScreenPoint(Vector3 position)：将视口坐标系转换为屏幕坐标系。</li>
</ul>
<p><code>世界坐标系</code>与<code>视口坐标系</code>的相互转换函数如下。</p>
<ul>
<li>Camera.WorldToViewportPoint(Vector3 position)：将世界坐标系转换为视口坐标系。</li>
<li>Camera.ViewportToWorldPoint(Vector3 position)：将视口坐标系转换为世界坐标系。</li>
</ul>
<h4 id="向量"><a href="#向量" class="headerlink" title="向量"></a>向量</h4><h5 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h5><p>在空间中，向量用一段有方向的线段来表示，可以用于描述具有大小和方向的物理量</p>
<ul>
<li>物体运动的速度</li>
<li>加速度</li>
<li>摄像机观察方向</li>
<li>刚体受到的力等</li>
</ul>
<p>向量是物理、动画、三维图形的基础。</p>
<p>在数学中，向量(Vector3)也被称为矢量，是指具有大小和方向的量。</p>
<ul>
<li>向量的长度，也被称为“模”，也是向量的大小。</li>
<li>向量的方向描述了空间中向量的指向。</li>
</ul>
<p>在Unity中，点和向量都是以(x，y，z)的形式表示的。向量有两种类型</p>
<ul>
<li>Vector2(2D)</li>
<li>Vector3(3D)</li>
</ul>
<p>实际应用：</p>
<ul>
<li>设置某个物体的位置，使用 <code>Vector类型</code></li>
<li>物体沿着某个方向以某个速度移动，使用 <code>Vector类型</code> 表示速度的向量值，即速度的大小和方向</li>
<li>计算两个物体之间的距离，可以计算两个物体之间为起始和终点的向量的长度<br>TODO 待补充实际代码</li>
</ul>
<p><code>transform.position</code> 表示一个点，即物体在世界坐标系中的点。<br><code>transform.forward</code> 表示一个向量，即当前物体的本地坐标系的z轴在世界坐标系中的指向。</p>
<h5 id="向量运算"><a href="#向量运算" class="headerlink" title="向量运算"></a>向量运算</h5><p>向量的头是线的初始位置<br>向量的尾是线的结束为止(箭头)</p>
<p><strong>加法</strong></p>
<blockquote>
<p>从几何学的角度可以被理解成平移向量</p>
</blockquote>
<img src="/blog/p/c8a4b253/Unity%E5%90%91%E9%87%8F%E5%8A%A0%E6%B3%95.png" class="" title="Unity向量加法">
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 向量加法</span></span><br><span class="line">Vector3 v1 = <span class="keyword">new</span> Vector3(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">Vector3 v2 = <span class="keyword">new</span> Vector3(<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>);</span><br><span class="line">Vector3 v3 = v1 + v2; <span class="comment">// TODO 答案待验证 v3(2,0,0)</span></span><br></pre></td></tr></table></figure>

<ul>
<li>如果v1和v2都表示一个点，v3就是<code>从原点指向v3</code>的一个带有箭头的射线，此时v3就是一个向量；</li>
<li>如果v1和v2都表示一个向量，v3是一个<code>从v1的尾部指向v2的头部</code>的一个向量。</li>
</ul>
<p>用法：</p>
<ul>
<li>计算物体移动位置</li>
</ul>
<p><strong>减法</strong></p>
<blockquote>
<p>从几何学的角度可以被理解成平移负向量。不满足交换律，即a-b !&#x3D; (b-a)</p>
</blockquote>
<img src="/blog/p/c8a4b253/Unity%E5%90%91%E9%87%8F%E5%87%8F%E6%B3%95.png" class="" title="Unity向量减法">
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 向量减法</span></span><br><span class="line">Vector3 v1 = <span class="keyword">new</span> Vector3(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">Vector3 v2 = <span class="keyword">new</span> Vector3(<span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">Vector3 v3 = v2 - v1; <span class="comment">// TODO 答案待验证 v3(3,0,-2.0)</span></span><br></pre></td></tr></table></figure>


<ul>
<li>如果v1和v2都表示一个点，v3就是<code>从v1开始指向v2</code>的一个带有箭头的射线，此时v3就是一个向量；</li>
<li>如果v1和v2都表示一个向量，v3是一个<code>从v1头部指向v2头部</code>的一个向量。</li>
</ul>
<p><strong>数乘(实数与向量相乘)</strong></p>
<blockquote>
<p>从几何学的角度可以被理解为沿着原始向量的方向或原始向量的反方向放大或缩小。</p>
</blockquote>
<p>数乘可以对向量的长度进行缩放，</p>
<ul>
<li>如果实数<code>大于0</code>，则数乘后的向量的方向与原始向量的方向一致，</li>
<li>如当实数<code>大于1</code>，向量数乘如图(a)所示；</li>
<li>如果实数<code>小于0</code>，则数乘后的向量的方向和原始向量的方向相反，</li>
<li>如当实数<code>小于-1</code>，向量数乘如图(b)所示。<img src="/blog/p/c8a4b253/Unity%E5%90%91%E9%87%8F%E6%95%B0%E4%B9%98.png" class="" title="Unity向量数乘"></li>
</ul>
<p><strong>点乘</strong></p>
<blockquote>
<p>又被称为点积、数量积、内积<br>从几何学的角度可以被理解为一条边向另一条边的投影乘以另一条边的长度。向量的点乘的结果描述了两个向量的“相似”程度，点乘的结果越大，两个向量越相近。<br>运算符 <code>·</code></p>
</blockquote>
<p>两个向量的点乘是对应分量乘积的和，其结果是一个标量，数值等于两个向量长度相乘再乘以两者夹角的余弦值。向量的点乘满足交换律，即a·b&#x3D;b·a</p>
<img src="/blog/p/c8a4b253/Unity%E5%90%91%E9%87%8F%E7%82%B9%E4%B9%98.png" class="" title="Unity向量点乘">

<p>用法：</p>
<ul>
<li>计算机图形学中，点乘常用来进行<code>方向性判断</code><ul>
<li>如果两个矢量的点乘<ul>
<li>&gt;0，他们的方向相近</li>
<li>&lt;0，他们的方向相反</li>
</ul>
</li>
</ul>
</li>
<li>Unity中，点乘用来判断角度<ul>
<li><code>计算物体的前进方向</code></li>
<li><code>计算物体到目标方向的夹角</code><ul>
<li>利用点乘判断一个多边形是面向摄像机还是背向摄像机</li>
<li>在计算聚光灯的效果时，根据点乘得到光照效果<ul>
<li>点乘越大说明夹角越小，则物体离光照的轴线越近，光照越强</li>
<li>反之，光照越弱</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>叉乘</strong></p>
<blockquote>
<p>从几何学的角度可以被理解为两个向量叉乘得到一个新的向量，新向量垂直于原来的两个向量。<br>运算符 <code>*</code><br>仅用于3D向量</p>
</blockquote>
<p>如果两个向量a和b在同一个平面中，则向量a×b垂直于a和b，指向符合左手定则，其模是以两个向量为边的平行四边形的面积。<br>  <img src="/blog/p/c8a4b253/Unity%E5%90%91%E9%87%8F%E5%8F%89%E4%B9%98.png" class="" title="Unity向量叉乘"></p>
<p>axb叉乘 类似于 左手坐标系的z轴，仅用于3D向量</p>
<p>用法：(通常用于<code>判断方向</code>)</p>
<ul>
<li>判断角色是顺时针转动还是逆时针转动 才能更快的转向敌人。 <ul>
<li>当一个敌人在你身后时，利用叉乘可以判断是往左转还是往右转才能更快的转向敌人，点乘得到当前面朝向的方向和你到敌人的方向所成角度的大小</li>
</ul>
</li>
</ul>
<h5 id="Vector3"><a href="#Vector3" class="headerlink" title="Vector3"></a>Vector3</h5><blockquote>
<p>三维向量表示3D向量和点，既包含位置、方向(朝向)、欧拉角等信息，也包含普通向量运算的函数。</p>
</blockquote>
<p>Vector3三维向量可以表示位置、方向，3D向量的长度&#x3D;向量的大小&#x3D;向量的模&#x3D;向量各分量平方和的平方根。</p>
<p>在三维坐标系中，分别取与X轴、Y轴、Z轴方向相同的3个单位向量i、j、k作为一组基底。若a为该坐标系内的任意向量，以坐标原点O为起点向P点作向量OP&#x3D;a。a&#x3D;向量OP&#x3D;xi+yj+zk，把实数对(x，y，z)被称为向量a的坐标，记作a&#x3D;(x，y，z)，这就是向量a的坐标的表示。其中，(x，y，z)是点P的坐标，向量OP被称为点P的位置向量。</p>
<p>在Unity中，Vector3的常用属性如下。</p>
<ul>
<li>Vector3.zero：表示3D零向量，是Vector3(0，0，0)的简码。</li>
<li>forward：表示3D向量的前方，是Vector3(0，0，1)的简码，即面向Z轴。</li>
<li>right：表示3D向量的右方，是Vector3(1，0，0)的简码，即面向X轴。</li>
<li>up：表示3D向量的上方，是Vector3(0，1，0)的简码，即面向Y轴。</li>
<li>one：是Vector3(1，1，1)的简码。</li>
</ul>
<p>Vector3还有很多常用函数和方法，如</p>
<ul>
<li>Lerp()(两个向量之间的线性插值)、</li>
<li>Slerp()(两个向量之间的球形插值)、</li>
<li>MoveTowards()(由当前地点移向目标)、</li>
<li>RotateTowards()(将当前的向量转向目标)、</li>
<li>SmoothDamp()(随着时间的推移，逐渐改变一个向量朝向预期的目标)、</li>
<li>Distance()(返回a和b之间的距离)等。</li>
</ul>
<p>另外，在Unity中，有时会用到Vector2和Vector4</p>
<ul>
<li>Vector2表示二维向量，用于表示2D的位置和向量，如网格中的纹理坐标或材质中的纹理偏移等。<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对应坐标系 上下左右</span></span><br><span class="line">Vector2.down = Vector2(<span class="number">0</span>, <span class="number">-1</span>)</span><br><span class="line">Vector2.up = Vector2(<span class="number">0</span>, <span class="number">1</span>) </span><br><span class="line">Vector2.left = Vector2(<span class="number">-1</span>, <span class="number">0</span>)</span><br><span class="line">Vector2.right = Vector2(<span class="number">1</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure></li>
<li>Vector4表示四维向量，如网格切线、着色器的参数等。</li>
</ul>
<p>这两种向量的操作与Vector3基本类似.</p>
<!-- 补充： -->


<h4 id="欧拉角和四元数"><a href="#欧拉角和四元数" class="headerlink" title="欧拉角和四元数"></a>欧拉角和四元数</h4><p>在特定的坐标系中，描述物体的方位一般需要说明物体的位置和朝向。</p>
<ul>
<li>描述物体的位置实际上就是描述物体相对于给定参考点(通常是坐标系原点)的位移</li>
<li>描述物体的朝向就是描述相对于已知朝向(通常为“单位”朝向)的旋转，旋转的量被称为角位移。</li>
</ul>
<p>在图形学中，<strong>描述物体方位</strong>的常见方法有<code>矩阵</code>、<code>欧拉角</code>和<code>四元数</code>，这3种方法各有各的优点和不足，可以在不同的场合使用不同的方法。</p>
<h5 id="欧拉角"><a href="#欧拉角" class="headerlink" title="欧拉角"></a>欧拉角</h5><p>欧拉角的基本思想是 将角位移分解为绕3个互相垂直轴的3个旋转组成的序列，即按照一定的坐标轴顺序(一般为先Z轴，再X轴，最后Y轴)绕每个轴旋转一定的角度来变换坐标或向量，实际上是一系列绕坐标轴旋转的组合。</p>
<p>欧拉角在表现形式上是一个三维向量，每个分量的值分别表示<code>物体绕坐标系对应轴的旋转角度</code>。</p>
<p>Unity中，所有物体都会绑定Transform组件，Rotation属性对应的就是该游戏对象方位的欧拉角表示。描述了 <code>该游戏对象相对于副坐标系的方位</code>。<br>Transform组件：</p>
<ul>
<li>Position 本地坐标系(位置)</li>
<li>Potation 欧拉角表示(方位)</li>
</ul>
<img src="/blog/p/c8a4b253/Unity%E6%AC%A7%E6%8B%89%E8%A7%92x.png" class="" title="Unity欧拉角x">

<p>Unity中规定了一组欧拉旋转是按照Z→X→Y的顺序进行的。</p>
<ul>
<li>一次旋转 和 多次旋转的结果是不同的。因为在一组欧拉旋转中，相对的轴向不会发生变化。  <figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一次旋转</span></span><br><span class="line">transform.Rotate(<span class="number">90</span>, <span class="number">60</span>, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多次旋转，每次旋转后，相对的轴向都发生了变化</span></span><br><span class="line">transform.Rotate(<span class="number">0</span>, <span class="number">0</span>, <span class="number">30</span>);</span><br><span class="line">transform.Rotate(<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">transform.Rotate(<span class="number">0</span>, <span class="number">60</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="四元数"><a href="#四元数" class="headerlink" title="四元数"></a>四元数</h5><p>通过四个数字来表示方位：<code>一个3维向量</code>表示<code>转轴</code>和 <code>一个角度分量</code>表示<code>绕次转轴的旋转角度</code>，所以叫四元数。</p>
<p>在Unity中：<br><strong>基本的旋转</strong>可以通过 <code>transform.Rotate</code> 实现。但是当需要对旋转角度进行计算时，只使用一个四元数就可以执行<code>绕任意过原点的向量</code>的旋转。</p>
<p>transform组件有个名为 <code>rotation</code> 的变量，其类型是四元数。<br>不能通过取 rotation的x、y、z对应transform面板中Rotation的各个分量。<br>四元素的x、y、z与 <code>rotation</code> 的三个值并不直接对应，但是可以通过表达式进行转换。</p>
<p>一个四元数p：</p>
<ul>
<li>可以表示为p&#x3D;(xi+yj+zk+w)&#x3D;((x，y，z)，w)&#x3D;(v，w)</li>
<li>也可以表示为p&#x3D;i(x<em>sin(θ&#x2F;2))+j(y</em>sin(θ&#x2F;2))+k(z*sin(θ&#x2F;2))+cos(θ&#x2F;2)&#x3D;((x，y，z)sinθ&#x2F;2，cosθ&#x2F;2)。<br>其中，v是向量，w是实数，θ为旋转角度。具体来说，它表示空间点P绕着单位向量轴u&#x3D;(x，y，z)表示的旋转轴旋转的角度为θ。</li>
</ul>
<p>如使点m&#x3D;Vector3(x，y，z)绕X轴(1，0，0)按顺时针旋转90°，只要有角度，即可给出四元数的4个分量值，则对应的Quaternion数值为如下形式：</p>
<img src="/blog/p/c8a4b253/Unity%E5%9B%9B%E5%85%83%E6%95%B0Quaternion.png" class="" title="Unity四元数Quaternion">

<p>欧拉角与四元数在易读性、易运算性、表示的唯一性等方面各有优点和缺点。</p>
<p><code>四元数q</code>转换为<code>欧拉角v</code>的转换方法：<code>Vector3 v = q.eulerAngles;</code><br><code>欧拉角v</code>转换为<code>四元数q</code>的转换方法：<code>Quaternion q = Quaternion.Euler(v);</code></p>
<p><strong>四元数操作</strong></p>
<blockquote>
<p>四元数是基于复数</p>
</blockquote>
<p>大多数情况下：</p>
<ul>
<li>只需要获取和使用现有的旋转，如来自<code>Transform</code>组件</li>
<li>使用四元数来构造新的旋转，如在两次旋转之间平滑的插值。</li>
</ul>
<p>构造器Quaternion();<br>构建方式：</p>
<ul>
<li>Quaternion(x,y,z,w); &#x2F;&#x2F; 从四个float类型的参数构建一个新的四元数。</li>
<li>Quaternion(Vector3, Single); &#x2F;&#x2F; 从指定向量和旋转部分创建四元数。</li>
</ul>
<p>参数要求：</p>
<ul>
<li>xyzw的取值范围(-1,1)</li>
</ul>
<p>物体旋转两周才可以使所有数值回归初始值。<br>例如：<br>如果四元数的初始值为(0,0,0,1)，则分别沿着X轴和Y轴旋转不同的角度后，四元数的变化如下<br>沿着X轴旋转：</p>
<ul>
<li>180°(-1，0，0，0)，</li>
<li>360°(0，0，0，-1)，</li>
<li>540°(1，0，0，0)，</li>
<li>720°(0，0，0，1)。</li>
</ul>
<p>沿着Y轴旋转：</p>
<ul>
<li>180°(0，1，0，0)，</li>
<li>360°(0，0，0，-1)，</li>
<li>540°(0，-1，0，0)，</li>
<li>720°(0，0，0，1)。</li>
</ul>
<p>运算符<br>四元素的运算符主要有三个</p>
<ul>
<li>!&#x3D; 判断两个四元数是否不相等</li>
<li>&#x3D;&#x3D; 判断两个四元数是否相等</li>
<li>* 和平两个旋转</li>
</ul>
<p>四元数与 <code>方向向量</code> 相乘，必须是四元数右乘方向向量，即将四元数至于方向向量的前面</p>
<p>在Unity中，Quaternion的乘法操作 <code>*</code> 有以下两种：<br>(1)Quaternion<em>Quaternion，如q&#x3D;t</em>p，表示先将一个点进行t操作旋转，然后进行p操作旋转。其中，p、q、t均为四元数。<br>(2)Quaternion<em>Vector3，如q&#x3D;t</em>p，表示将点p进行t操作旋转。其中，q、t为四元数，p为方向向量。</p>
<p>如下代码用于计算结果向量的值：</p>
<img src="/blog/p/c8a4b253/Unity%E5%9B%9B%E5%85%83%E6%95%B0%E4%B9%98%E6%B3%95%E8%AE%A1%E7%AE%97.png" class="" title="Unity四元数乘法计算">

<p>在上面的代码中，向量forward包含的初始值为(0，0，1)，如绕Y轴旋转90°，即向量按照顺时针方向旋转90°。</p>
<p>因此，resultA的值为(1，0，0)，resultB的值为(0，0，-1)，resultC的值同样为(0，0，-1)。需要注意的是，四元数是可以叠加运算的。</p>
<p>静态方法<br>Quaternion类中的静态方法主要有</p>
<ul>
<li>Angle()方法、</li>
<li>AngleAxis()方法、</li>
<li>Dot()方法、</li>
<li>Euler()方法、</li>
<li>LookRotation()方法、</li>
<li>FromToRotation()方法、</li>
<li>Inverse()方法、</li>
<li>Lerp()方法、</li>
<li>RotateToWards()方法</li>
<li>Slerp()方法。</li>
</ul>
<p>静态方法可以直接通过类名调用，如Quaternion.Angle(q1，q2)。下面对常用的静态方法进行分析。</p>
<ol>
<li>Angle()方法声明形式如下：<br><code>public static float Angle(Quaternion a, Quaternion b);</code><br>功能：计算两个旋转之间的夹角，与Vector3.Angle()的作用相同。</li>
<li>AngleAxis()方法声明形式如下：<br><code>public static Quaternion AngleAxis(float angle, Vector3 axis);</code><br>功能：构建一个四元数，表示沿着一个轴旋转固定的角度，即绕axis轴旋转angle，创建一个旋转。其参数是旋转的角速度和轴方向(向量)。</li>
<li>Euler()方法声明形式如下：<br><code>public static Quaternion Euler(float x, float y, float z);</code><br>或者<br><code>public static Quaternion Euler(Vector3 euler);</code><br>功能：返回一个旋转角度，绕Z轴旋转z°，绕X轴旋转x°，绕Y轴旋转y°(默认顺序为Z轴→X轴→Y轴)，即返回一个四元数，该四元数表示欧拉旋转后的朝向。</li>
<li>LookRotation()方法声明形式如下：<br><code>public static Quaternion LookRotation(Vector3 forward, [DefaultValue(&quot;Vector3.up&quot;)] Vector3 upwards);</code><br>功能：返回一个四元数，使用前方和上方矢量确定朝向，即创建一个有具体的forward方向和upward方向的旋转。这个功能很实用，传入的两个参数分别代表前方盯着的方向及自己的上方。如在以下代码中，可以使一个GameObject转动时盯着另一个物体，即当前的object一直盯着target，默认up朝向是Vector3.up，也可以自定义up朝向：<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Transform target;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Vector3 relativePos = target.position - transform.position;</span><br><span class="line">    Quaternion rotation = Quaternion.LookRotation(relativePos);</span><br><span class="line">    transform.rotation = rotation;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>FromToRotation()方法声明形式如下：<br><code>public static Quaternion FromToRotation(Vector3 fromDirection, Vector3 toDirection);</code><br>功能：返回从一个方向到另一个方向的旋转，即转一个方向。</li>
<li>Lerp()方法声明形式如下：<br><code>public static Quaternion Lerp(Quaternion a, Quaternion b, float t);</code><br>功能：返回一个四元数，表示从四元数a到b的线性插值，即线性地从一个角度旋转到另一个角度。插值也就是中间旋转量，a作为起点，此时对应的t为0；b作为终点，此时对应的t为1。当t取0和1之间的小数时，代表中间的插值结果。</li>
<li>Slerp()方法声明形式如下：<br><code>public static Quaternion Slerp(Quaternion a, Quaternion b, float t);</code><br>功能：通过t值在from和to之间插值，即沿球面线性地从一个角度旋转到另一个角度，其中，旋转匀速增加t。<br>Ler()p方法与Slerp()方法的功能基本相同，Lerp()方法的计算速度快，但是精度较低，如果相对旋转变化量很小，则效果不理想。Slerp()方法的计算精度高，但是运算速度相对较慢。</li>
</ol>
<p>思考与练习</p>
<ol>
<li>简述笛卡儿坐标系的特点及常用的种类。</li>
<li>简述Unity中常用的坐标系及其特点。</li>
<li>简述Unity中常用的向量运算及其特点。</li>
<li>简述Vector3类型变量的特点及常用的方法。</li>
<li>简述欧拉角的特点。</li>
<li>简述四元数的特点及常用的静态方法。</li>
<li>简述欧拉角与四元数的优点和缺点。</li>
</ol>
<h3 id="Unity基本内容"><a href="#Unity基本内容" class="headerlink" title="Unity基本内容"></a>Unity基本内容</h3><h4 id="下载与安装"><a href="#下载与安装" class="headerlink" title="下载与安装"></a>下载与安装</h4><p>推荐使用Unity Hub安装，需要注册Unity账号</p>
<blockquote>
<p><a href="https://unity.cn/releases" target="_blank" rel="noopener">https://unity.cn/releases</a></p>
</blockquote>
<p>保存Scene场景：File-&gt;save as… -&gt; 输入文件名 保存即可。</p>
<h4 id="Unity窗口视图"><a href="#Unity窗口视图" class="headerlink" title="Unity窗口视图"></a>Unity窗口视图</h4><p><code>对象</code> 是由 <code>组件</code> 构成的，<code>对象</code> 可以理解为是 <code>组件</code> 的<code>容器</code>。</p>
<p>所有视图：</p>
<img src="/blog/p/c8a4b253/Unity%E5%9B%9B%E5%A4%A7%E9%9D%A2%E6%9D%BF.png" class="" title="Unity四大面板">
<ul>
<li><strong>Hierarchy</strong> 层级视图，显示当前场景中所有游戏对象的<code>层级结构</code></li>
<li><strong>Inspector</strong> 检视视图，显示当前选择游戏对象的<code>相关属性</code>和<code>信息</code><ul>
<li>Transform 对象的位置、大小、旋转信息</li>
<li>Scripts 对象脚本，类似剧本</li>
<li>Camera 对象相机</li>
</ul>
</li>
<li><strong>Scene</strong> 场景视图，用于设置场景以及方式游戏对象，是构建游戏场景的地方<ul>
<li>Game 游戏视图 游戏开始后，摄像机拍到的景象</li>
<li>关卡</li>
</ul>
</li>
<li><strong>Project</strong> 工程视图(Packages和Assets)，包含整个工程中所有可用的资源<ul>
<li>包</li>
<li>脚本</li>
<li>字体</li>
<li>声音</li>
<li>地图</li>
</ul>
</li>
</ul>
<p>所有菜单项</p>
<ul>
<li>File：Scene和Project的创建、保存以及输出等</li>
<li>Edit：编辑功能，设置关联环境，控制输入的设置等</li>
<li>Assets：创建、导入、导出资源，提取预制体，导入C#项目等</li>
<li>GameObject：创建场景对象和UI，以及调整摄像机视野等</li>
<li>Component：为对象添加系统提供的组件</li>
<li>Window：打开各个视图窗口和面板</li>
<li>Help</li>
</ul>
<h4 id="常用工作视图"><a href="#常用工作视图" class="headerlink" title="常用工作视图"></a>常用工作视图</h4><img src="/blog/p/c8a4b253/Unity%E5%B8%B8%E7%94%A8%E5%B7%A5%E4%BD%9C%E8%A7%86%E5%9B%BEScene%E8%A7%86%E5%9B%BE.png" class="" title="Unity常用工作视图Scene视图">
<p><strong>Scene视图</strong></p>
<ul>
<li>模型(对象)</li>
<li>摄像机</li>
<li>光源</li>
<li>Scene Gizmos工具</li>
<li><img src="/blog/p/c8a4b253/Unity%E5%B8%B8%E7%94%A8%E5%B7%A5%E4%BD%9C%E8%A7%86%E5%9B%BEScene%E8%A7%86%E5%9B%BE%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95.png" class="" title="Unity常用工作视图Scene视图常用操作方法"></li>
<li><img src="/blog/p/c8a4b253/Unity%E5%B8%B8%E7%94%A8%E5%B7%A5%E4%BD%9C%E8%A7%86%E5%9B%BEScene%E8%A7%86%E5%9B%BE%E5%9C%BA%E6%99%AF%E8%A7%86%E5%9B%BE%E6%8E%A7%E5%88%B6%E6%A0%8F.png" class="" title="Unity常用工作视图Scene视图场景视图控制栏"></li>
</ul>
<p><strong>Game游戏视图</strong></p>
<ul>
<li>顶部是Game View Control Bar(游戏视图控制条)<ul>
<li><img src="/blog/p/c8a4b253/UnityGame%E8%AF%95%E5%9B%BE%E9%A1%B6%E9%83%A8.png" class="" title="UnityGame试图顶部"></li>
<li><img src="/blog/p/c8a4b253/UnityGame%E8%A7%86%E5%9B%BE%E9%A1%B6%E9%83%A8%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D1.png" class="" title="UnityGame视图顶部功能介绍1"></li>
<li><img src="/blog/p/c8a4b253/UnityGame%E8%A7%86%E5%9B%BE%E9%A1%B6%E9%83%A8%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D2.png" class="" title="UnityGame视图顶部功能介绍2"></li>
</ul>
</li>
</ul>
<p><strong>Hierarchy层级视图</strong><br>先创建的游戏对象会被后创建的游戏对象遮挡住，从场景中看到的是最后创建的游戏对象<br>Scene视图中的游戏对象会随着Hierarchy视图中游戏对象的添加和删除而不断更新。<br>主要操作功能：</p>
<ul>
<li>添加游戏对象</li>
<li>删除游戏对象</li>
<li>建立父子关系<ul>
<li>一个父对象可以有多个子对象</li>
<li>子对象只能有一个父对象</li>
<li>对父对象的操作会影响子对象</li>
<li>对子对象的操作不会影响父对象</li>
</ul>
</li>
</ul>
<p><strong>Project视图</strong></p>
<blockquote>
<p>组织管理文件的模式 与 资源管理模式相同：对各种资源采用分类管理</p>
</blockquote>
<p>如果需要移动或重新组织项目资源，则在Project视图的项目资源内进行，否者会损坏或删除与该资源相关的原数据和链接，甚至破坏项目</p>
<p><strong>Inspector视图</strong></p>
<blockquote>
<p>显示和设置游戏对象的属性、添加代码或组件等</p>
</blockquote>
<p>组件以及部分属性：</p>
<img src="/blog/p/c8a4b253/UnityInspector%E8%A7%86%E5%9B%BE%E9%83%A8%E5%88%86%E7%BB%84%E4%BB%B6%E5%92%8C%E5%B1%9E%E6%80%A7.png" class="" title="UnityInspector视图部分组件和属性">
<ul>
<li>Transform<ul>
<li>Position：本地坐标系</li>
<li>Rotation：方位信息(欧拉角)</li>
<li>Scale：缩放</li>
</ul>
</li>
<li>Mesh Filter：网格过滤器<ul>
<li>从资源中获取Mesh(网格)，并将其传递给网格渲染器(Mesh Renderer)，以便在屏幕上渲染。</li>
</ul>
</li>
<li>Mesh Collider：Mesh碰撞体，为了防止物体被穿透，需要为对象添加碰撞体。</li>
<li>Mesh Renderer组件：网格渲染器，从网格过滤器获得几何形状，并且根据游戏对象的Transform组件定义的位置进行渲染。<ul>
<li>Materials属性：设置游戏对象的颜色、贴图等信息。</li>
</ul>
</li>
</ul>
<p><strong>Console面板</strong></p>
<blockquote>
<p>调试工具，显示程序运行时产生的调试信息</p>
</blockquote>
<img src="/blog/p/c8a4b253/UnityConsole%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7.png" class="" title="UnityConsole调试工具">

<p>每条信息前面的图标可以显示信息的种类：</p>
<ul>
<li><p>白色叹号是正常信息；</p>
</li>
<li><p>黄色三角形是警告信息，不影响运行；</p>
</li>
<li><p>红色叹号是错误报警信息，出现此类信息后，程序<code>无法运行</code>，调试后不再出现此类信息程序才可以运行。</p>
<p>所以，根据出现的信息种类可以判断信息的处理方式，<code>双击错误信息</code>会<code>直接跳转到脚本代码中出现问题的位置</code>，可以快捷地调试程序。</p>
</li>
</ul>
<h4 id="Unity资源商店-AssetStore"><a href="#Unity资源商店-AssetStore" class="headerlink" title="Unity资源商店 AssetStore"></a>Unity资源商店 AssetStore</h4><blockquote>
<p>Windows -&gt; Asset Store 命令直接访问 或者”Ctrl+9”组合键访问</p>
</blockquote>
<p>汇集了丰富的<code>插件资源</code>和<code>游戏素材资源</code>，在创建游戏时，通过资源商店获取资源如：</p>
<ul>
<li>任务模型</li>
<li>动画</li>
<li>粒子特效</li>
<li>纹理</li>
<li>音频特效</li>
<li>各类扩展插件</li>
</ul>
<p>同时开发者可以在资源商店出售或免费提供自己的资源。</p>
<p>资源安装流程：</p>
<ol>
<li>选择对应的资源</li>
<li>点击下载</li>
<li>导入(Import Unity Package)</li>
</ol>
<h3 id="Unity脚本开发技术"><a href="#Unity脚本开发技术" class="headerlink" title="Unity脚本开发技术"></a>Unity脚本开发技术</h3><h4 id="脚本简介"><a href="#脚本简介" class="headerlink" title="脚本简介"></a>脚本简介</h4><blockquote>
<p>脚本可以被理解为 <code>附加在游戏对象上</code>的<code>用于定义游戏对象的行为</code>的<code>指令代码</code>，必须绑定在游戏对象上才能开始它的生命周期。</p>
</blockquote>
<p>游戏吸引人的地方在于它的<code>可交互性</code>，Unity的<code>游戏交互</code>通过<code>脚本编程</code>来实现。</p>
<p>通过脚本，开发者可以控制每个游戏对象的创建、销毁，以及游戏对象在各种情况下的行为，进而实现预期的交互效果。</p>
<p>Unity集成了开源的脚本编辑器<code>MonoDevelop</code>，它具有使用简便、跨平台等特性，是Unity默认的脚本开发工具。</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestScript</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 1. 最先加载，首先执行，且只执行一次</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 第一次enable后执行start，随后不再执行start</span></span><br><span class="line">    <span class="comment">//    同时可以根据程序的逻辑多次调用</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnEnable</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 脚本被禁用时调用，当前脚本被禁用后，脚本不在执行任何更新操作</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnDisable</span>()</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 尽在enable后执行一次，及时后面多次enable，start也不执行</span></span><br><span class="line">    <span class="comment">//    在第一帧更新之前调用Start</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. 只要start完成，且当前enable，每帧都执行一次</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上图是Unity生命周期调试代码，此脚本被挂载到游戏对象上之后能在控制台上显示调试信息，以此了解事件执行的先后顺序。</p>
<h5 id="脚本语言"><a href="#脚本语言" class="headerlink" title="脚本语言"></a>脚本语言</h5><p>Unity的脚本语言运行于Mono之上。Mono是一个致力于.NET开源的软件平台，严格来讲是.NET的第三方跨平台实现。Mono旨在使开发人员能够轻松地创建.NET基础的跨平台应用程序。运行于Mono之上的应用可以使用.NET库。</p>
<p>Unity支持三种脚本语言：</p>
<ul>
<li>UnityScript(菜单上显示为JavaScript，是两种不同的语言)</li>
<li>C#(推荐使用)</li>
<li>Boo(.net平台的第三方语言，使用群体较小)<br>在一个游戏开发中人员可以使用一种或两种语言来实现脚本的控制。</li>
</ul>
<p>Unity 5.x及以上版本，Unity推荐使用C#作为开发语言，并一直延续至今。</p>
<h5 id="C-简介"><a href="#C-简介" class="headerlink" title="C#简介"></a>C#简介</h5><blockquote>
<p>一种面向对象的计算机语言</p>
</blockquote>
<p>C#本身有很强大的语言特性，语法简单，易学易用，高度面向对象，类型体系完善且安全，能胜任从桌面应用到Web开发等诸多场景。大多数Unity第三方插件都是使用C#编写的，许多商业游戏项目也是使用C#开发的。</p>
<h5 id="脚本与类、组件、游戏对象之间的关系"><a href="#脚本与类、组件、游戏对象之间的关系" class="headerlink" title="脚本与类、组件、游戏对象之间的关系"></a>脚本与类、组件、游戏对象之间的关系</h5><p>一个Unity脚本对应一个.cs文件扩展名的脚本文件，该文件对应一个C#类。在不考虑创建组件的前提下，C#支持在一个.cs文件中定义多个类或声明一个命名空间。</p>
<p>一般来讲，一个脚本文件对应一个C#类，但不是所有的C#类都能<code>作为组件挂载到游戏对象上</code>。只有直接或间接<code>继承MonoBehaviour类</code>的脚本，才能被称为<code>组件</code>。所以，Unity组件一定是脚本，但脚本不一定是Unity组件。在一般情况下，组件可以自由调用普通的C#类提供的静态方法。</p>
<p>Unity组件可以分为<code>系统组件</code>和<code>用户自定义组件</code>。两者均可以直接挂载到游戏对象上。</p>
<ul>
<li>系统组件集成于Unity开发环境中，一些常用的组件被整合至Unity标准Asset资源包中</li>
<li>自定义组件则是用户在开发环境下自行编写的C#脚本。</li>
</ul>
<p>Unity组件依附于游戏对象，用于模拟游戏对象的行为。从本质上来说，游戏对象是GameObject类在场景内的实例化，用于充当组件的载体。将一些具有特定功能的代码封装成一个类(组件)，当这个类挂载到某个游戏对象上时，就相当于对此类进行了实例化，挂载了此实例的游戏对象将获得该实例提供的所有功能。<code>挂载组件</code>相当于<code>创建功能实体</code>，<code>添加游戏对象行为</code>。</p>
<p><code>继承自MonoBehaviour的组件``只能挂载(Add Component)到游戏对象上</code>，其实例化由Unity引擎自动完成。开发人员<code>不能通过new关键字</code>来创建一个组件的实例，虽然这样做可以编译成功，但是执行时会有错误提示。在场景运行状态下，组件的生命周期受限于加载它的游戏对象的生命周期。游戏对象被销毁之后，其挂载的组件的生命周期也随之结束。</p>
<h4 id="脚本的相关操作"><a href="#脚本的相关操作" class="headerlink" title="脚本的相关操作"></a>脚本的相关操作</h4><p><strong>创建脚本</strong></p>
<ul>
<li>菜单命令法 菜单栏中选择 Assets -&gt; Create -&gt; C# Script</li>
<li>快捷菜单法 Project视图上房单击Create按钮，或者在视图区右击，选择Create-&gt;C# Script</li>
<li>游戏对象中添加组件 点击New Script创建</li>
</ul>
<p><strong>挂载脚本</strong></p>
<blockquote>
<p>仅继承MonoBehaviour类的脚本，即组件</p>
</blockquote>
<ol>
<li>添加组件法<br>  创建脚本后，在Add Component中搜索组件脚本进行挂载</li>
<li>文件拖动法<br>  创建脚本后，从Project视图中的脚本拖到空白处</li>
<li>添加脚本代码法<br>  在脚本代码中，通过AddComponent<T>()方法动态添加组件  <figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 为当前脚本所依附的游戏对象添加Player组件</span></span><br><span class="line">    AddComponent&lt;Player&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>注意：</p>
<ul>
<li>一般将所有的C#脚本存放在一个单独的文件夹中，如Scripts。</li>
<li>直接将脚本拖到游戏对象上，运行时脚本就会自动关联该游戏对象。</li>
<li>脚本在Project视图中显示的名称不包括.cs文件扩展名。类名需要与.cs脚本的名称一致，否则会出现编译错误。所有类继承自MonoBehaviour类。</li>
<li>挂载的脚本可以通过脚本编辑器随时进行修改、保存，并在Unity编辑器中每隔几秒自动检测更新。如果脚本中存在严重的语法错误，在未更正前错误提示会一直出现在控制台区，并导致该脚本无法挂载到游戏对象上，程序也无法正常启动。</li>
<li>在Unity场景编辑状态下以拖动方式挂载的脚本会一直保留在Inspector视图中</li>
<li>在调试状态下挂载的脚本会在调试结束后自动卸载。</li>
</ul>
<p><strong>卸载脚本</strong></p>
<ul>
<li>Inspector视图 -&gt; 脚本 -&gt; Remove Component</li>
<li>通过代码卸载<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 销毁组件</span></span><br><span class="line">Destroy(gameObject.GetComponent&lt;Player&gt;());</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>脚本编译顺序</strong><br>遵循特定的规则，与脚本所在的文件夹位置有关。</p>
<p>C＃以Assembly(汇编集)为基本单位来组织脚本代码，脚本被编译成的库文件(dll)将在运行时被实时编译执行。库文件之间有加载顺序。后编译的脚本能够引用先编译的脚本，先编译的脚本无法引用后编译的脚本。</p>
<p>C＃脚本的编译顺序如下。</p>
<ol>
<li>所有在Standard Assets、Pro Standard Assets或Plugins中的脚本最先编译。</li>
<li>所有在Standard Assets&#x2F;Editor、Pro Standard Assets&#x2F;Editor、Plugins&#x2F;Editor中的脚本相继被编译。</li>
<li>所有在Assets&#x2F;Editor外面的，并且不在(1)、(2)中的脚本相继被编译。</li>
<li>Assets&#x2F;Editor中的脚本最后被编译。</li>
</ol>
<p><strong>脚本执行顺序</strong><br>Unity脚本的执行顺序有一套默认的规则，在特殊情况下也可以根据需要手动定制脚本的执行顺序。注意：这里所说的脚本的执行顺序是指多个脚本之间执行的先后顺序，不单指脚本内部代码的执行顺序(脚本内方法的执行顺序遵循MonoBehaviour类的生命周期规则，方法间的调用顺序并没有改变)。</p>
<p>默认规则</p>
<ol>
<li>单个游戏对象脚本方法的执行顺序按照挂载到该游戏对象的时间先后顺序倒序执行(后挂载的先执行)，而不是按照Inspector视图上显示的上下顺序。当脚本方法执行时，所有脚本初始化阶段的Awake()执行完毕后再执行所有脚本的OnEnable()，然后依次执行Start()、Update()、LateUpdate()，程序运行期间任何脚本被禁用，该脚本的更新将停止。</li>
<li>当场景中有多个游戏对象时，按照脚本创建在游戏对象上的时间先后顺序(不是上下顺序)倒序初始化(后创建的先初始化)，脚本执行顺序遵循规则(1)，与脚本挂载到哪个游戏对象上无关。未被激活的游戏对象在场景中将不可见，挂载在其上的脚本也不会运行。</li>
<li>如果游戏对象有子对象，则同样遵循规则(2)。</li>
<li>单个脚本内部方法的执行顺序如图所示。脚本主要内部方法的执行顺序如下：<ol>
<li>唤醒(Awake()，仅执行一次)</li>
<li>→激活(OnEnable())</li>
<li>→重置(Reset())</li>
<li>→开始(Start()，仅执行一次)</li>
<li>→固定更新(FixedUpdate())</li>
<li>→模拟物理(Physics)</li>
<li>→触发器(Trigger)的进入、离开等</li>
<li>→碰撞器(Collision)的进入、离开等</li>
<li>→刚体(Rigidbody)的位置和旋转的处理</li>
<li>→鼠标按下、抬起等事件(OnMouse())</li>
<li>→更新(Update())</li>
<li>→最后更新(LateUpdate())</li>
<li>→渲染(Rendering())</li>
<li>→禁用(OnDisable())</li>
<li>→销毁(OnDestroy())。  <img src="/blog/p/c8a4b253/Unity%E8%84%9A%E6%9C%AC%E7%BC%96%E8%AF%91%E9%A1%BA%E5%BA%8F-%E9%BB%98%E8%AE%A4%E9%A1%BA%E5%BA%8F.jpeg" class="" title="Unity脚本编译顺序-默认顺序"></li>
</ol>
</li>
</ol>
<p>手动设置<br>  Unity也提供了用来设置脚本的执行顺序的方法，在菜单栏中选择“Edit→Project Settings→Script Execution Order”命令，即可在Inspector视图中看到Script Execution Order面板。单击右下角的“+”按钮将弹出下拉列表，包括游戏中的所有脚本。单击所需脚本即可把脚本添加至Script Execution Order面板中，如图所示。<br>  <img src="/blog/p/c8a4b253/Unity%E8%84%9A%E6%9C%AC%E7%BC%96%E8%AF%91%E9%A1%BA%E5%BA%8F-%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AE.jpeg" class="" title="Unity脚本编译顺序-手动设置"></p>
<p>  脚本添加完毕之后，可以使用鼠标拖动脚本为脚本排序，脚本的位置越靠上，脚本名称后面的数字越小，执行越靠前(这种调整方式仅仅影响不同脚本名称之间的优先级，同名脚本的执行顺序遵循后挂载先执行的堆栈原则)。其中，Default Time表示没有设置执行顺序的那些脚本的执行顺序。</p>
<h4 id="脚本编辑器"><a href="#脚本编辑器" class="headerlink" title="脚本编辑器"></a>脚本编辑器</h4><p>Unity支持多种外部脚本编辑器</p>
<ul>
<li>MonoDevelop编辑器(默认)</li>
<li>Visual Studio(Mono的替代方案)</li>
<li>Visual Studio Code(个人推荐)</li>
<li>Other…</li>
</ul>
<h5 id="设置默认编辑器"><a href="#设置默认编辑器" class="headerlink" title="设置默认编辑器"></a>设置默认编辑器</h5><p>Unity 首选项<br>External Tools<br>External Script Editor 选择编辑器</p>
<h5 id="VSCode编辑器-代码不提示"><a href="#VSCode编辑器-代码不提示" class="headerlink" title="VSCode编辑器 代码不提示"></a>VSCode编辑器 代码不提示</h5><p>Unity版本 2022.2.1f1c1</p>
<p><strong>安装.net</strong></p>
<blockquote>
<p><a href="https://dotnet.microsoft.com/zh-cn/download" target="_blank" rel="noopener">https://dotnet.microsoft.com/zh-cn/download</a> arm64(m1)</p>
</blockquote>
<p>选择最新版 M1芯片arm64安装即可，看安装文档是否需要重启。</p>
<p><strong>安装momo</strong></p>
<blockquote>
<p><a href="https://www.mono-project.com/download/stable/" target="_blank" rel="noopener">https://www.mono-project.com/download/stable/</a></p>
</blockquote>
<p>选择最新版Visual Studio channel版本，并且重启。</p>
<p><strong>安装C#扩展</strong></p>
<blockquote>
<p>从指定文件安装 <a href="https://github.com/OmniSharp/omnisharp-vscode/releases/tag/v1.23.11" target="_blank" rel="noopener">https://github.com/OmniSharp/omnisharp-vscode/releases/tag/v1.23.11</a></p>
</blockquote>
<p>如果出现</p>
<img src="/blog/p/c8a4b253/OmniShart_requires.png" class="" title="OmniShart_requires">
<p>说明当前版本的C#是还未修复的最新版本，需要安装23.11</p>
<p><strong>设置VSCode</strong><br>user-&gt;settings.json</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;omnisharp.useGlobalMono&quot;</span><span class="punctuation">:</span> <span class="string">&quot;always&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;omnisharp.useModernNet&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;omnisharp.monoPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/Library/Frameworks/Mono.framework/Versions/Current&quot;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>
<p>monoPath通过命令<code>which mono</code>查看，但是只能按照上面的Path写，不然第一个VSCode实例是可以运行的，但是第二个实例会报错<br><code>[ERROR] Error: Unable to find Mono. Update the &quot;omnisharp.monoPath&quot; setting to point to the folder containing Mono&#39;s &#39;/bin&#39; folder.</code></p>
<p><strong>最后</strong><br>删除项目中的 <code>Assembly-CSharp.csproj</code> 和 <code>study_FlappyBird.sln</code> 文件，Unity首选项也可以进行生成。</p>
<p>彻底退出VSCode、Unity、Unity HUB。</p>
<p>重新打开即可</p>
<h4 id="常用命名空间"><a href="#常用命名空间" class="headerlink" title="常用命名空间"></a>常用命名空间</h4><p>TODO…</p>
<h4 id="MonoBehaviour类"><a href="#MonoBehaviour类" class="headerlink" title="MonoBehaviour类"></a>MonoBehaviour类</h4><h4 id="游戏对象和组件"><a href="#游戏对象和组件" class="headerlink" title="游戏对象和组件"></a>游戏对象和组件</h4><h4 id="常用脚本API"><a href="#常用脚本API" class="headerlink" title="常用脚本API"></a>常用脚本API</h4><h4 id="协程"><a href="#协程" class="headerlink" title="协程"></a>协程</h4><h3 id="创建基本的3D场景"><a href="#创建基本的3D场景" class="headerlink" title="创建基本的3D场景"></a>创建基本的3D场景</h3><p>游戏对象 和 组件</p>
<p>预制体</p>
<p>Runball案例<br>地形</p>
<h3 id="物理系统"><a href="#物理系统" class="headerlink" title="物理系统"></a>物理系统</h3><p>Rigidbody组件<br>Collider组件<br>Constant Force组件</p>
<p>Runball案例2<br>Joint组件<br>Cloth组件<br>Character Controller组件</p>
<h3 id="图形用户界面UGUI"><a href="#图形用户界面UGUI" class="headerlink" title="图形用户界面UGUI"></a>图形用户界面UGUI</h3><p>简介<br>常用组件</p>
<p>Rect Transform组件<br>UGUI布局组件<br>Runball案例3</p>
<h3 id="Mecanim动画系统"><a href="#Mecanim动画系统" class="headerlink" title="Mecanim动画系统"></a>Mecanim动画系统</h3><p>介绍</p>
<p>人性角色动画</p>
<p>Animator Controller<br>动画混合树<br>Sprite动画剪辑</p>
<h3 id="导航网格寻路"><a href="#导航网格寻路" class="headerlink" title="导航网格寻路"></a>导航网格寻路</h3><p>介绍</p>
<ul>
<li>常见寻路技术概述</li>
</ul>
<p>实现导航网格寻路</p>
<p>导航常用属性概述</p>
<h3 id="音效系统"><a href="#音效系统" class="headerlink" title="音效系统"></a>音效系统</h3><p>介绍</p>
<p>音频文件格式<br>Audio Source组件<br>Audio Listener组件<br>空间音效环绕效果案例分析</p>
<h3 id="全局光照和粒子系统"><a href="#全局光照和粒子系统" class="headerlink" title="全局光照和粒子系统"></a>全局光照和粒子系统</h3><p>全局光照介绍<br>Light光照</p>
<p>粒子系统</p>
<h3 id="游戏资源打包与跨平台发布"><a href="#游戏资源打包与跨平台发布" class="headerlink" title="游戏资源打包与跨平台发布"></a>游戏资源打包与跨平台发布</h3><p>AssetBundle概述</p>
<p>平台发布设置<br>发布到PC<br>发布到Android<br>发布到WebGL</p>
<h3 id="UGUI综合案例"><a href="#UGUI综合案例" class="headerlink" title="UGUI综合案例"></a>UGUI综合案例</h3><p>介绍与环境搭建</p>
<p>游戏的开始面板</p>
<p>游戏的主面板</p>
<p>游戏的角色面板</p>
<p>游戏的背包面板</p>
<p>游戏的关卡选择面板</p>
<p>游戏的设置面板</p>
<p>游戏的登录面板</p>
<h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><p>网络教程：<br>游戏网络同步 <a href="https://www.bilibili.com/video/BV15P4y1U79G/?p=4&amp;vd_source=508e069b09636e2f68f3ef05a2868539" target="_blank" rel="noopener">https://www.bilibili.com/video/BV15P4y1U79G/?p=4&amp;vd_source=508e069b09636e2f68f3ef05a2868539</a><br>《王者荣耀》2亿用户量的背后：产品定位、技术架构、网络方案等 <a href="http://www.52im.net/thread-1595-1-1.html" target="_blank" rel="noopener">http://www.52im.net/thread-1595-1-1.html</a><br>从《王者荣耀》来聊聊游戏的帧同步 <a href="https://gwb.tencent.com/community/detail/115398" target="_blank" rel="noopener">https://gwb.tencent.com/community/detail/115398</a></p>
<p>课程：<br>《FPS射击游戏》训练营 <a href="https://ke.qq.com/course/4000336#term_id=105639476" target="_blank" rel="noopener">https://ke.qq.com/course/4000336#term_id=105639476</a><br>Unity3D(U3D)从零打造王者荣耀 - 钻石班 <a href="https://ke.qq.com/course/260595#term_id=100574690" target="_blank" rel="noopener">https://ke.qq.com/course/260595#term_id=100574690</a><br>Unity3D(U3D)从零打造王者荣耀 - 王者班 <a href="https://ke.qq.com/course/260601#term_id=100573021" target="_blank" rel="noopener">https://ke.qq.com/course/260601#term_id=100573021</a><br>P2【商业级MMORPG大型网游】Unity全栈开发 <a href="https://ke.qq.com/course/329046#term_id=100390455" target="_blank" rel="noopener">https://ke.qq.com/course/329046#term_id=100390455</a></p>
<p>Unity Asset Store Packages：<br>Easy Touch Controls 摇杆 <a href="https://assetstore.unity.com/packages/tools/input-management/easy-touch-controls-28118#content" target="_blank" rel="noopener">https://assetstore.unity.com/packages/tools/input-management/easy-touch-controls-28118#content</a><br>其他 <a href="https://assetstore.unity.com/?on_sale=true&amp;q=FPS&amp;orderBy=1" target="_blank" rel="noopener">https://assetstore.unity.com/?on_sale=true&amp;q=FPS&amp;orderBy=1</a></p>
<p>Blender(uv editing 角色、枪械、地图) <a href="http://www.baidu.com/link?url=CYr_XnWcJw26dpGc_1Lgqm5nDCwJxJYnchlpZOA-7UXQXqttk--wSzzujQt7lCL0QfOuFEr6YmZBubtWk51g6K" target="_blank" rel="noopener">http://www.baidu.com/link?url=CYr_XnWcJw26dpGc_1Lgqm5nDCwJxJYnchlpZOA-7UXQXqttk--wSzzujQt7lCL0QfOuFEr6YmZBubtWk51g6K</a></p>
<p>游戏设计(色彩、音乐)<br><a href="https://www.youtube.com/watch?v=gTZT8GE5928" target="_blank" rel="noopener">https://www.youtube.com/watch?v=gTZT8GE5928</a><br><a href="https://github.com/FlowingSPDG/CS-GO-Observer-Unity-HUD" target="_blank" rel="noopener">https://github.com/FlowingSPDG/CS-GO-Observer-Unity-HUD</a></p>
<p>音效 <a href="https://www.imphenzia.com/files/file-list-game-ready-blasters.pdf" target="_blank" rel="noopener">https://www.imphenzia.com/files/file-list-game-ready-blasters.pdf</a></p>
<p>网络：<br><a href="https://blog.theknightsofunity.com/steamworks-and-unity-p2p-multiplayer/" target="_blank" rel="noopener">https://blog.theknightsofunity.com/steamworks-and-unity-p2p-multiplayer/</a><br><a href="https://steamworks.github.io/installation/" target="_blank" rel="noopener">https://steamworks.github.io/installation/</a></p>
<p>7小时 fps：<br><a href="https://www.youtube.com/watch?v=WxqsIGeCxg0" target="_blank" rel="noopener">https://www.youtube.com/watch?v=WxqsIGeCxg0</a><br><a href="https://www.youtube.com/watch?v=WxqsIGeCxg0&amp;t=54s" target="_blank" rel="noopener">https://www.youtube.com/watch?v=WxqsIGeCxg0&amp;t=54s</a></p>
<h3 id="多人FPS-15年"><a href="#多人FPS-15年" class="headerlink" title="多人FPS 15年"></a>多人FPS 15年</h3><blockquote>
<p><a href="https://www.youtube.com/watch?v=-m28axeuRNs&amp;list=PLPV2KyIb3jR5PhGqsO7G4PsbEC_Al-kPZ&amp;index=3" target="_blank" rel="noopener">https://www.youtube.com/watch?v=-m28axeuRNs&amp;list=PLPV2KyIb3jR5PhGqsO7G4PsbEC_Al-kPZ&amp;index=3</a></p>
</blockquote>
<p>了解如何在 Unity 中制作多人第一人称射击游戏。本系列讲授非常酷的 Unity Networking 系统 (uNet)。所有代码完全用 C# 编写。</p>
<ul>
<li>初始场景</li>
<li>网络介绍</li>
<li>同步运动</li>
<li>Flying</li>
<li>射击</li>
<li>重复创建Respawn</li>
<li>玩家模型</li>
<li>十字准线</li>
<li>Gun GFX</li>
<li>Rapid Fire</li>
<li>错误修复</li>
<li>加入连接</li>
<li>断开连接</li>
<li>用户账户</li>
<li>获取数据</li>
<li>发送数据</li>
<li>光标锁定</li>
<li>记分牌</li>
</ul>
<h3 id="生成地形程序-17年"><a href="#生成地形程序-17年" class="headerlink" title="生成地形程序 17年"></a>生成地形程序 17年</h3><blockquote>
<p><a href="https://www.youtube.com/playlist?list=PLFt_AvWsXl0eBW2EiBtl_sxmDtSgZBxB3" target="_blank" rel="noopener">https://www.youtube.com/playlist?list=PLFt_AvWsXl0eBW2EiBtl_sxmDtSgZBxB3</a></p>
</blockquote>
<p>章节：</p>
<ul>
<li>八度</li>
<li>颜色</li>
<li>网格</li>
<li>LOD</li>
<li>无尽地形</li>
<li>现成</li>
<li>LOD切换</li>
<li>接缝</li>
<li>衰减贴图</li>
<li>法线</li>
<li>碰撞</li>
<li>平面着色</li>
<li>数据存储</li>
<li>颜色着色器</li>
<li>纹理着色器</li>
<li>修复和优化</li>
<li>重构</li>
<li>修复间隙</li>
</ul>
<h3 id="2D平台游戏-15年"><a href="#2D平台游戏-15年" class="headerlink" title="2D平台游戏 15年"></a>2D平台游戏 15年</h3><blockquote>
<p><a href="https://www.youtube.com/playlist?list=PLPV2KyIb3jR42oVBU6K2DIL6Y22Ry9J1c" target="_blank" rel="noopener">https://www.youtube.com/playlist?list=PLPV2KyIb3jR42oVBU6K2DIL6Y22Ry9J1c</a></p>
</blockquote>
<p>章节：</p>
<ul>
<li>视差滚动</li>
<li>平铺</li>
<li>Character</li>
<li>动画</li>
<li>摄像</li>
<li>Bullet Trail</li>
<li>Muzzle Flash</li>
<li>玩家生命</li>
<li>ReSpawning</li>
<li>重生效果</li>
<li>敌人AI</li>
<li>敌人</li>
<li>拍摄GFX</li>
<li>Camera Shake</li>
<li>敌人枪</li>
<li>Enemy Attack攻击</li>
<li>GUI</li>
<li>游戏结束</li>
<li>MENU</li>
<li>音效管理</li>
<li>升级-&gt;4.0</li>
</ul>
<h3 id="在线多人游戏01-2022"><a href="#在线多人游戏01-2022" class="headerlink" title="在线多人游戏01 2022"></a>在线多人游戏01 2022</h3><blockquote>
<p><a href="https://www.youtube.com/watch?v=stJ4SESQwJQ" target="_blank" rel="noopener">https://www.youtube.com/watch?v=stJ4SESQwJQ</a></p>
</blockquote>
<p>章节：</p>
<ul>
<li>0:00介绍</li>
<li>0:20安装</li>
<li>1:00并行同步</li>
<li>1:26网络管理员</li>
<li>1:45统一传输层</li>
<li>2:18播放器预制件&#x2F;网络对象</li>
<li>4:09什么是主机、服务器和客户端？</li>
<li>6:15只控制你的本地对象</li>
<li>7:40使用 ClientNetworkTransform 同步数据</li>
<li>8:30使用 NetworkVariable 手动序列化</li>
<li>11:25使用 INetworkSerializable 自定义网络序列化</li>
<li>14:10插值网络运动（乡巴佬风格）</li>
<li>14:33减少网络流量</li>
<li>15:30使用 ServerRPC 调用服务器代码</li>
<li>17:00服务器与客户端权限</li>
<li>19:45添加模拟延迟</li>
<li>20:45让服务器权限感觉良好的技巧</li>
<li>21:35订阅网络变化</li>
</ul>
<h2 id="good-project-构思"><a href="#good-project-构思" class="headerlink" title="good project 构思"></a>good project 构思</h2><p>前提：</p>
<ul>
<li>可以与抖音有趣的梗结合<ul>
<li>跑酷 意外从高处掉下，带着摄像机拍下了过程 神评：”带我死的你还是第一个”</li>
</ul>
</li>
</ul>
<h3 id="1-双人情侣类"><a href="#1-双人情侣类" class="headerlink" title="1.双人情侣类"></a>1.双人情侣类</h3><blockquote>
<p>需要提前解剖双人成行游戏</p>
</blockquote>
<p>剖析：<br>叙事<br>互动叙事类游戏<br>家庭关系<br>夫妻关系<br>爱情与亲情<br>父母与孩子<br>NPC哈金博士：它主张“爱治愈一切”，并且回应了小女孩的期待，帮助修复父母之间的关系。<br>游戏弱化了小梅和科迪的争吵与分歧，利用一些矛盾点作为开端，引出一系列有趣的交互行为，在有意无意间转移了玩家的关注点，开始专心钻研合作事宜。<br>可以作妖<br>故地重游，做一些能够挽救这段感情的互动<br>合理的分配故事情节，比如故事剧情整体较为平缓，一共两个有起伏转折点：一个是游戏途中小梅和科迪破坏小象玩具，另一个是接近尾声时女儿做出的离家决定。这两个设定都正好出现在一系列的闯关内容之后，彼时玩家正好从需要花精力的配合中脱离出来，想要享受片刻安宁：比如终于到达了小象的城堡里，比如终于破解了咒语返回现实。</p>
<p>丛林中手持 喷射油和火药，与松鼠战斗。</p>
<p>融入</p>
<p>双人互动 最大化游戏乐趣<br>走心<br>配合解密，分工差异</p>
<ul>
<li><p>远战和近战</p>
</li>
<li><p>情侣 懵懂</p>
</li>
<li><p>情侣 相处</p>
</li>
<li><p>结婚</p>
</li>
<li><p>情侣 孩子</p>
</li>
<li><p>1</p>
</li>
</ul>
<h2 id="Game-Jam-极限开发"><a href="#Game-Jam-极限开发" class="headerlink" title="Game Jam 极限开发"></a>Game Jam 极限开发</h2><blockquote>
<p>重在学习、练习、实验、挑战自我、与新伙伴合作、尝试新点子，而不全是为了奖品和荣誉。<br>迅速开发，能跑就行，后期优化</p>
</blockquote>
<h3 id="游戏类型："><a href="#游戏类型：" class="headerlink" title="游戏类型："></a>游戏类型：</h3><blockquote>
<p><a href="https://baike.baidu.com/item/%E6%B8%B8%E6%88%8F%E5%88%86%E7%B1%BB/7690482" target="_blank" rel="noopener">https://baike.baidu.com/item/%E6%B8%B8%E6%88%8F%E5%88%86%E7%B1%BB/7690482</a></p>
</blockquote>
<ul>
<li>RPG：角色扮演游戏，由玩家扮演游戏中的一个或数个角色，有完整的故事情节的游戏，RPG更强调的是剧情发展和个人体验<ol>
<li>最终幻想</li>
<li>仙剑奇侠穿</li>
<li>暗黑破坏神</li>
</ol>
</li>
<li>ACT：动作游戏，玩家控制游戏人物用各种武器消灭敌人以过关的游戏，不追求故事情节<ul>
<li>魂斗罗</li>
<li>三国志</li>
<li>鬼泣</li>
</ul>
</li>
<li>AVG：冒险游戏，由玩家控制游戏人物进行虚拟冒险的游戏。与RPG不同的是，AVG的特色是故事情节往往是以完成一个任务或解开某些谜题的形式出现的，而且在游戏过程中刻意强调谜题的重要性。<ul>
<li>动作类，包含(AAG：动作冒险游戏)<ul>
<li>生化危机</li>
<li>古墓丽影</li>
<li>恐龙危机</li>
</ul>
</li>
<li>解密类<ul>
<li>神秘岛</li>
</ul>
</li>
</ul>
</li>
<li>SLG：策略游戏<ul>
<li>RTS：即时战略游戏</li>
<li>MOBA：多人在线战术竞技游戏<ol>
<li>英雄联盟</li>
<li>dota</li>
<li>D10</li>
</ol>
</li>
</ul>
</li>
<li>SRPG：模拟类角色扮演游戏</li>
<li>FTG：格斗游戏</li>
<li>STG：射击类游戏</li>
<li>FPS：第一人称视角射击游戏</li>
<li>TPS：第三人称视角射击游戏</li>
<li>PZL：益智类游戏</li>
<li>SPG：体育竞技类游戏</li>
<li>RCG（RAC）：竞速游戏</li>
<li>CAG：卡片游戏</li>
<li>TAB：桌面游戏</li>
<li>MSC:音乐游戏<ol>
<li>节奏大师</li>
</ol>
</li>
<li>塔防建造游戏</li>
</ul>
<p>开发游戏设计原则：</p>
<ul>
<li>多一些恍然大悟的「觉悟时刻」</li>
<li>游戏上手简易，不能带来太大的负面体验</li>
</ul>
<ul>
<li>创意廉价，宝贵的是实现创意，尤其是创意落地过程中实现程度、细节推敲和权衡<ul>
<li>客观地舍弃自己非常喜爱但性价比低的设计</li>
<li>全局视角权衡，夹缝中找到最优解，长远而不是舒服的决策。<br>难点：</li>
</ul>
</li>
</ul>
<ul>
<li>设计上：同步PVP体验 提高角色的技能设计</li>
<li>技术上：实时PVP，模拟物理，物理同步(大问题)，部分地方使用UI、色彩等解决方案。<br>如何学习：</li>
<li>找到一个靠谱的团队和项目</li>
</ul>
<ul>
<li>找到一个愿意带自己的人很重要</li>
<li>积极主动，争取机会</li>
<li>实践为主，多动手自己做</li>
</ul>
<p>备考设计功能：</p>
<ul>
<li>关卡<ul>
<li>可以跳过关卡，不以固定顺序游玩</li>
<li>关卡过渡动画</li>
</ul>
</li>
<li>通过建立一个多行为的脚本，用面板可控的方式，替换掉需要频繁修改多处位置的方式</li>
<li>Event，例如btn的event中，按钮被按下<ul>
<li>可以使用<code>onButtonPressed?.Invoke();</code></li>
<li>然后属性面板中OnButtonPressed()中可以选择，运行Object上附带的函数</li>
</ul>
</li>
<li>通过用户输入*，控制行为</li>
<li>通过防御进行击杀</li>
<li>消消乐 例如：游戏Fish</li>
<li>UI<ul>
<li>背景图<ul>
<li>与主题相关的元素</li>
<li>按键说明</li>
</ul>
</li>
<li>动画场景<ul>
<li>被攻击动画<ul>
<li>Player对象 闪烁 3S</li>
</ul>
</li>
<li>过关动画<ul>
<li>居中 从大到小 抖动 效果</li>
<li>过关处<ul>
<li>某个动画</li>
</ul>
</li>
</ul>
</li>
<li>升级动画<ul>
<li>居中 从大到小 抖动 效果</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>无法后退的游戏(例如2D游戏)</li>
<li>2D</li>
</ul>
<blockquote>
<p><a href="https://www.youtube.com/watch?v=3sWTzMsmdx8" target="_blank" rel="noopener">https://www.youtube.com/watch?v=3sWTzMsmdx8</a><br><a href="https://github.com/Matthew-J-Spencer/Ultimate-2D-Controller" target="_blank" rel="noopener">https://github.com/Matthew-J-Spencer/Ultimate-2D-Controller</a></p>
</blockquote>
<p>可变跳跃高度(尽早释放跳跃让玩家控制跳跃的高度)</p>
<blockquote>
<p>当玩家在你跳跃的顶点释放，跳跃顶点修改器时，通过向角色添加额外的向下力来完成</p>
</blockquote>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fallSpeed = _endedJumpEarly &amp;&amp; _currentVerticalSpeed &gt; <span class="number">0</span> ? _fallSpeed * _jumpEndEarlyGravityModifier : _fallSpeed;</span><br><span class="line">_currentVerticalSpeed -= fallSpeed * Time.deltaTime;</span><br></pre></td></tr></table></figure>

<p>Apex Modifiers(顶点修改器)</p>
<blockquote>
<p>得到一个反作用力的改变以及轻微的速度提升，轻松地降落在想要的地方，这是一个带有夸大值的例子</p>
</blockquote>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">float</span> _apexPoint = Mathf.InverseLerp(_jumpApexThreshold, <span class="number">0</span>, Mathf.Abs(Velocity.y));</span><br><span class="line"><span class="keyword">var</span> apexBonus = Mathf.Sign(Input.x) * _apexBonus * _apexPoint;</span><br><span class="line">_currentHorizontalSpeed += apexBonus * Time.deltaTime;</span><br><span class="line">_fallSpeed = Mathf.Lerp(_minFallSpeed, _maxFallSpeed, _apexPoint);</span><br></pre></td></tr></table></figure>

<p>Jump Buffering(跳跃缓冲)</p>
<blockquote>
<p>带有夸大值，在实际落地之前排队下一次跳跃，这可能是一个好的控制器最重要的隐藏部分<br>如果玩家按下跳跃，角色只是坐在那里</p>
</blockquote>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(_colDown &amp;&amp; _lastJumpPressed + _jumpBuffer &gt; Time.time)&#123;</span><br><span class="line">    <span class="comment">// 跳跃</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Coyote time</p>
<blockquote>
<p>离开平台几号秒后执行，离开地面后并检查是否在Coyote阈值内按下跳跃</p>
</blockquote>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.JumpDown &amp;&amp; !_colDown &amp;&amp; _timeLeftGrounded + _coyoteTimeThreshold &gt; Time.time)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Do more jumpies</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Clamped fall speed</p>
<blockquote>
<p>在下降的时候控制，用于轻松躲避或降落在平台</p>
</blockquote>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (_currentVerticalSpeed &lt; _fallClamp)</span><br><span class="line">&#123;</span><br><span class="line">    _currentVerticalSpeed = _fallClamp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Edge detection(边缘检测)</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (_currentVerticalSpeed &lt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">    _currentVerticalSpeed = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> dir = transform.position - hit.transform.position;</span><br><span class="line">transform.position += dir.normalized * move.magnitude;</span><br></pre></td></tr></table></figure>

<p>备考功能：</p>
<ul>
<li>控制窗口大小</li>
<li>攻击<ul>
<li>攻击<ul>
<li>单体攻击</li>
<li>多体攻击(穿透攻击)</li>
</ul>
</li>
<li>攻击类型<ul>
<li>范围攻击</li>
<li>连击</li>
</ul>
</li>
<li>其他<ul>
<li>子弹追踪</li>
</ul>
</li>
</ul>
</li>
<li>分数</li>
<li>血条</li>
</ul>
<p>备考实例：</p>
<ol>
<li>决定游戏类型</li>
<li>提前准备固定模板<ol>
<li>菜单</li>
<li>屏幕HUD界面</li>
<li>保存和读取数据<ol>
<li>同步选项</li>
<li>追踪进展</li>
</ol>
</li>
<li>支持各种不同的控制器类型<ul>
<li>不同类型<ol>
<li>2D</li>
<li>3D</li>
<li>双人</li>
</ol>
</li>
<li>不同设备<ol start="4">
<li>键盘+鼠标</li>
<li>滑动控制</li>
</ol>
</li>
</ul>
</li>
<li>制作组名单<ol>
<li>Game Design 游戏设计</li>
<li>Programming 程序</li>
<li>Music&#x2F;SFX 音乐&#x2F;特效</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="Game-Jam正式步骤："><a href="#Game-Jam正式步骤：" class="headerlink" title="Game Jam正式步骤："></a>Game Jam正式步骤：</h3><ol>
<li>决定游戏类型<br>拿到题目，脑子最清醒，有很多想法<br>在非常短的时间内，不要想的很清楚，有个雏形就行，——小会议进行思维碰撞。<br>关卡设计<br>素材+故事<br>设计关卡<br>放出惊喜DEMO</li>
</ol>
<p>实战：<br>过场管理器(控制关卡)</p>
<ul>
<li>关卡控制<ul>
<li>擦除现有关卡</li>
<li>跳转新的关卡<br>音乐管理器</li>
</ul>
</li>
<li>BGM控制<ul>
<li>随着关卡载入，进行淡入淡出<br>HUD窗口管理器</li>
</ul>
</li>
<li>负责在屏幕上绘制信息<ul>
<li>教程提示</li>
<li>根据情况出现按键提示图标</li>
<li>分数</li>
<li>开始&#x2F;暂停</li>
<li>选项菜单<ul>
<li>设置<ul>
<li>show particles</li>
<li>show trails</li>
<li>screen shake</li>
<li>low sensitivity aiming</li>
<li>toggle aim mode on&#x2F;off</li>
<li>always show arrow when holding magnet</li>
</ul>
</li>
<li>音乐</li>
<li>手柄</li>
<li>键盘<ul>
<li>上下左右</li>
<li>跳</li>
</ul>
</li>
<li>艺术</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>配置管理器</p>
<ol>
<li>设置管理器，对设置进行读取，操控硬盘上的文本读取</li>
<li>销毁管理器GameObject对象，替换成关卡</li>
<li>每次开始关卡之前都读取数据</li>
</ol>
<h3 id="优质游戏："><a href="#优质游戏：" class="headerlink" title="优质游戏："></a>优质游戏：</h3><h4 id="Vintage-Flashlight"><a href="#Vintage-Flashlight" class="headerlink" title="Vintage Flashlight"></a>Vintage Flashlight</h4><h4 id="Roll-Of-The-Dice-2022GameJam"><a href="#Roll-Of-The-Dice-2022GameJam" class="headerlink" title="Roll Of The Dice 2022GameJam"></a>Roll Of The Dice 2022GameJam</h4><blockquote>
<p><a href="https://escapadegames.itch.io/roll-of-the-dice" target="_blank" rel="noopener">https://escapadegames.itch.io/roll-of-the-dice</a></p>
</blockquote>
<img src="/blog/p/c8a4b253/RollOfTheDice.png" class="" title="RollOfTheDice">

<h4 id="Randomancer"><a href="#Randomancer" class="headerlink" title="Randomancer"></a>Randomancer</h4><blockquote>
<p><a href="https://riuku.itch.io/randomancer" target="_blank" rel="noopener">https://riuku.itch.io/randomancer</a></p>
</blockquote>
<p>类似于植物大战僵尸</p>
<img src="/blog/p/c8a4b253/Randomancer.gif" class="" title="Randomancer">

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/blog/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/" rel="tag"># 游戏开发</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/blog/p/6fbb57c1/" rel="prev" title="Lua">
                  <i class="fa fa-chevron-left"></i> Lua
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">阿尤</span>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/blog/js/comments.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/motion.js"></script><script src="/blog/js/schemes/muse.js"></script><script src="/blog/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/blog/js/third-party/search/local-search.js"></script>





  





</body>
</html>
