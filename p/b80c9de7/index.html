<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> centos7中开启或关闭mysql数据库远程登录连接访问权限 · 阿尤</title><meta name="description" content="centos7中开启或关闭mysql数据库远程登录连接访问权限 - 阿尤"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/blog/index.ico"><link rel="stylesheet" href="/blog/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://ayou129.github.io/blog/atom.xml" title="阿尤"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/blog/atom.xml" title="阿尤" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/blog/" class="logo-link"><img src="/blog/index.ico" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/blog/" target="_self" class="nav-list-link">首页</a></li><li class="nav-list-item"><a href="/blog/tags" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="/blog/categories" target="_self" class="nav-list-link">分类</a></li><li class="nav-list-item"><a href="/blog/archives/" target="_self" class="nav-list-link">历史文章</a></li><li class="nav-list-item"><a href="/blog/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><!--mixin postList()--><!--    .archive--><!--        - var year = 0;--><!--        - var change = false;--><!--        - page.posts.each(function (item) {--><!--            - var itemYear = date(item.date, 'YYYY') - 0;--><!--            - change = year !== itemYear;--><!--            - year = change ? itemYear : year;--><!--            if change--><!--                h2.archive-year!= year--><!--            .post-item--><!--                +postInfo(item)--><!--                a.post-title-link(href= url_for(item.path))--><!--                    != item.title--><!--        - })--><div class="post"><article class="post-block"><h1 class="post-title">centos7中开启或关闭mysql数据库远程登录连接访问权限</h1><div class="post-info">创建于：2016年4月28日<span style="margin-left: 0.5rem"></span>上次更新：2018年12月28日</div><div class="post-content"><p>出现问题的对症下药</p>
<h2 id="添加权限"><a href="#添加权限" class="headerlink" title="添加权限"></a>添加权限</h2><h3 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -<span class="selector-tag">p</span>密码</span><br></pre></td></tr></table></figure>

<h3 id="切换到-mysql-DB"><a href="#切换到-mysql-DB" class="headerlink" title="切换到 mysql DB"></a>切换到 mysql DB</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mysql<span class="comment">; </span></span><br></pre></td></tr></table></figure>

<h3 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h3><h4 id="只允许固定ip才能访问"><a href="#只允许固定ip才能访问" class="headerlink" title="只允许固定ip才能访问"></a>只允许固定ip才能访问</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span><span class="string">&#x27;myuser&#x27;</span>@<span class="string">&#x27;准备赋予权限的ip&#x27;</span>IDENTIFIED <span class="keyword">BY</span><span class="string">&#x27;这是密码&#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>;</span><br></pre></td></tr></table></figure>
<h4 id="允许所有用户拥有访问此数据库的权限-不安全-不建议"><a href="#允许所有用户拥有访问此数据库的权限-不安全-不建议" class="headerlink" title="允许所有用户拥有访问此数据库的权限(不安全,不建议)"></a>允许所有用户拥有访问此数据库的权限(不安全,不建议)</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">&#x27;myuser&#x27;</span>@<span class="string">&#x27;%&#x27;</span>IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;这是密码&#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>;</span><br></pre></td></tr></table></figure>
<h3 id="推入内存或重启mysql使其生效"><a href="#推入内存或重启mysql使其生效" class="headerlink" title="推入内存或重启mysql使其生效"></a>推入内存或重启mysql使其生效</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/i</span>nit.d/mysqld start</span><br></pre></td></tr></table></figure>
<h2 id="删除权限"><a href="#删除权限" class="headerlink" title="删除权限"></a>删除权限</h2><h3 id="连接数据库-1"><a href="#连接数据库-1" class="headerlink" title="连接数据库"></a>连接数据库</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -<span class="selector-tag">p</span>密码</span><br></pre></td></tr></table></figure>

<h3 id="切换到-mysql-DB-1"><a href="#切换到-mysql-DB-1" class="headerlink" title="切换到 mysql DB"></a>切换到 mysql DB</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mysql<span class="comment">; </span></span><br></pre></td></tr></table></figure>

<h3 id="更改mysql安装目录的属主属组"><a href="#更改mysql安装目录的属主属组" class="headerlink" title="更改mysql安装目录的属主属组"></a>更改mysql安装目录的属主属组</h3><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> host = <span class="string">&#x27;这是被删除权限用户的ip&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h3 id="推入内存或重启mysql使其生效-1"><a href="#推入内存或重启mysql使其生效-1" class="headerlink" title="推入内存或重启mysql使其生效"></a>推入内存或重启mysql使其生效</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/i</span>nit.d/mysqld start</span><br></pre></td></tr></table></figure></div></article></div></main><footer><div class="paginator"><a href="/blog/p/41054029/" class="prev">上一篇</a><a href="/blog/p/cc1b9611/" class="next">下一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'seansun';
var disqus_identifier = 'p/b80c9de7/';
var disqus_title = 'centos7中开启或关闭mysql数据库远程登录连接访问权限';
var disqus_url = 'https://ayou129.github.io/blog/p/b80c9de7/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//seansun.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2022 <a href="https://ayou129.github.io/blog">阿尤</a>.</p><!--p © #{year} #[a(href=config.url)!= config.author], powered by #[a(href=hexoURL, target="_blank") Hexo] and #[a(href=apolloURL, target="_blank") hexo-theme-apollo].--></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>